{"ast":null,"code":"// Import modules\nimport React,{useState,useEffect}from\"react\";import{Link,useLocation,useNavigate}from'react-router-dom';import'./Sidebar.css';// Import CSS file for styling\nimport'./home.css';import HomeIcon from'../Assets/Icons/HomeIcon.png';import HomeIconActive from'../Assets/Icons/HomeIconActive.png';import SearchIcon from'../Assets/Icons/SearchIcon.png';import SearchIconActive from'../Assets/Icons/SearchIconActive.png';import ProfileIcon from'../Assets/Icons/ProfileIcon.png';import ProfileIconActive from'../Assets/Icons/ProfileIconActive.png';import LogoutIcon from'../Assets/Icons/LogoutIcon.png';import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const linkStyles={textDecoration:'none',// Remove underline\ncolor:'inherit'// Inherit the color from the parent\n};const Sidebar=()=>{// Set states\nconst[userData,setUserData]=useState(null);const location=useLocation();// Get the current URL location\n// Function to check if the link is active\nconst isActiveLink=link=>{return location.pathname===link;};// Checks to see if we are logged in, sidebar values will change depending on this\nuseEffect(()=>{axios.get(\"http://localhost:3000/session\").then(response=>{// Handle successful response\nconsole.log(\"session\",response.data);setUserData(response.data);// Assuming the response contains user data\n}).catch(error=>{// Handle error\nconsole.error(\"Error fetching user data:\",error);});},[]);// Handles logout on the frontend for a user session\nconst logout=()=>{axios.get(\"http://localhost:3000/logout\").then(response=>{setUserData(null);window.location.reload();}).catch(error=>{// Handle error\nconsole.error(\"Error fetching user data:\",error);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"header-item\",children:/*#__PURE__*/_jsx(\"div\",{className:\"logo\",children:/*#__PURE__*/_jsx(\"div\",{className:\"logotext\",children:\"Senior Project  \"})})}),/*#__PURE__*/_jsx(Link,{to:'/',style:linkStyles,children:/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-item \".concat(isActiveLink('/')?'active-tab':''),children:[/*#__PURE__*/_jsx(\"img\",{className:\"sidebar-icon\",src:isActiveLink('/')?HomeIconActive:HomeIcon}),/*#__PURE__*/_jsx(\"h1\",{className:\"sidebar-text\",children:\"Home\"})]})}),/*#__PURE__*/_jsx(Link,{to:'/search',style:linkStyles,children:/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-item \".concat(isActiveLink('/search')?'active-tab':''),children:[/*#__PURE__*/_jsx(\"img\",{className:\"sidebar-icon\",src:isActiveLink('/search')?SearchIconActive:SearchIcon}),/*#__PURE__*/_jsx(\"h1\",{className:\"sidebar-text\",children:\"Search\"})]})}),userData?/*#__PURE__*/ // Conditionally render user account or login link\n_jsx(Link,{to:\"/user/\".concat(userData._id),style:linkStyles,children:/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-item \".concat(isActiveLink(\"/user/\".concat(userData._id))?'active-tab':''),children:[/*#__PURE__*/_jsx(\"img\",{className:\"sidebar-icon\",src:isActiveLink(\"/user/\".concat(userData._id))?ProfileIconActive:ProfileIcon}),/*#__PURE__*/_jsx(\"h1\",{className:\"sidebar-text\",children:\"Account\"})]})}):/*#__PURE__*/_jsx(Link,{to:'/login',style:linkStyles,children:/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-item \".concat(isActiveLink('/login')?'active-tab':''),children:[/*#__PURE__*/_jsx(\"img\",{className:\"sidebar-icon\",src:isActiveLink('/login')?ProfileIconActive:ProfileIcon}),/*#__PURE__*/_jsx(\"h1\",{className:\"sidebar-text\",children:\"Login\"})]})}),userData?/*#__PURE__*/ // Conditionally render user account and login link\n_jsxs(\"div\",{onClick:logout,className:\"logout-item\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"sidebar-icon\",src:LogoutIcon}),/*#__PURE__*/_jsx(\"h1\",{className:\"sidebar-text\",children:\"Log out\"})]}):/*#__PURE__*/_jsx(_Fragment,{})]});};export default Sidebar;","map":{"version":3,"names":["React","useState","useEffect","Link","useLocation","useNavigate","HomeIcon","HomeIconActive","SearchIcon","SearchIconActive","ProfileIcon","ProfileIconActive","LogoutIcon","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","linkStyles","textDecoration","color","Sidebar","userData","setUserData","location","isActiveLink","link","pathname","get","then","response","console","log","data","catch","error","logout","window","reload","className","children","to","style","concat","src","_id","onClick"],"sources":["C:/Users/luker/SeniorProject/senior-music-project/frontend/src/Components/general/sidebar.jsx"],"sourcesContent":["// Import modules\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { Link, useLocation, useNavigate  } from 'react-router-dom';\r\nimport './Sidebar.css'; // Import CSS file for styling\r\nimport './home.css'\r\nimport HomeIcon from '../Assets/Icons/HomeIcon.png'\r\nimport HomeIconActive from '../Assets/Icons/HomeIconActive.png'\r\nimport SearchIcon from '../Assets/Icons/SearchIcon.png'\r\nimport SearchIconActive from '../Assets/Icons/SearchIconActive.png'\r\nimport ProfileIcon from '../Assets/Icons/ProfileIcon.png'\r\nimport ProfileIconActive from '../Assets/Icons/ProfileIconActive.png'\r\nimport LogoutIcon from '../Assets/Icons/LogoutIcon.png'\r\nimport axios from \"axios\"\r\n\r\n\r\nconst linkStyles = {\r\n  textDecoration: 'none', // Remove underline\r\n  color: 'inherit', // Inherit the color from the parent\r\n};\r\n\r\nconst Sidebar = () => {\r\n  // Set states\r\n  const [userData, setUserData] = useState(null);\r\n  const location = useLocation(); // Get the current URL location\r\n  \r\n  // Function to check if the link is active\r\n  const isActiveLink = (link) => {\r\n    return location.pathname === link;\r\n  };\r\n\r\n  \r\n  \r\n  // Checks to see if we are logged in, sidebar values will change depending on this\r\n  useEffect(() => {\r\n    axios.get(\"http://localhost:3000/session\")\r\n      .then(response => {\r\n        // Handle successful response\r\n        console.log(\"session\", response.data)\r\n        setUserData(response.data); // Assuming the response contains user data\r\n     \r\n      })\r\n      .catch(error => {\r\n        // Handle error\r\n        console.error(\"Error fetching user data:\", error);\r\n      })\r\n\r\n  }, []);\r\n\r\n  // Handles logout on the frontend for a user session\r\n  const logout = () => {\r\n    axios.get(\"http://localhost:3000/logout\")\r\n      .then(response => {\r\n          setUserData(null);\r\n          window.location.reload();\r\n      })\r\n      .catch(error => {\r\n        // Handle error\r\n        console.error(\"Error fetching user data:\", error);\r\n    });    \r\n\r\n    \r\n\r\n  }\r\n\r\n  return (\r\n    <div className=\"sidebar\"  >\r\n        <div className = 'header-item'>\r\n                <div className = 'logo'>\r\n                 \r\n                    <div className = 'logotext'>Senior Project  </div>\r\n                </div>\r\n        </div>\r\n      \r\n        <Link to = {'/'} style={linkStyles}>\r\n          <div className = {`sidebar-item ${isActiveLink('/') ? 'active-tab' : ''}`}>\r\n              <img className = 'sidebar-icon' src = {isActiveLink('/') ? HomeIconActive : HomeIcon }/>\r\n              <h1 className = 'sidebar-text'>Home</h1>\r\n\r\n          </div>\r\n        </Link>\r\n        <Link to = {'/search'} style={linkStyles}>\r\n          <div className = {`sidebar-item ${isActiveLink('/search') ? 'active-tab' : ''}`}>\r\n              <img className = 'sidebar-icon' src = {isActiveLink('/search') ? SearchIconActive : SearchIcon }/>\r\n              <h1 className = 'sidebar-text'>Search</h1>\r\n\r\n          </div>\r\n        </Link>\r\n\r\n        {userData ? ( // Conditionally render user account or login link\r\n        <Link to={`/user/${userData._id}`} style={linkStyles}>\r\n          <div className={`sidebar-item ${isActiveLink(`/user/${userData._id}`) ? 'active-tab' : ''}`}>\r\n            <img className='sidebar-icon' src={isActiveLink(`/user/${userData._id}`) ? ProfileIconActive : ProfileIcon} />\r\n            <h1 className='sidebar-text'>Account</h1>\r\n          </div>\r\n        </Link>\r\n        ) : (\r\n        <Link to={'/login'} style={linkStyles}>\r\n          <div className={`sidebar-item ${isActiveLink('/login') ? 'active-tab' : ''}`}>\r\n            <img className='sidebar-icon' src={isActiveLink('/login') ? ProfileIconActive : ProfileIcon} />\r\n            <h1 className='sidebar-text'>Login</h1>\r\n          </div>\r\n        </Link>\r\n      )}\r\n\r\n\r\n      {userData ? ( // Conditionally render user account and login link\r\n        \r\n        <div onClick={logout} className='logout-item'>\r\n         \r\n              <img className='sidebar-icon' src={LogoutIcon} />\r\n              <h1  className='sidebar-text'>Log out</h1>\r\n        \r\n        </div>\r\n      \r\n        ) : (\r\n        <></>\r\n      )}\r\n      </div>\r\n  );\r\n};\r\n\r\nexport default Sidebar;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}