{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import axios from'axios';import{Link}from'react-router-dom';import'./review.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Review(_ref){let{albumId}=_ref;const[reviewBody,setReviewBody]=useState('');const[score,setScore]=useState('');const[userData,setUserData]=useState(null);const[errorMessage,setErrorMessage]=useState('');async function submitScore(e){e.preventDefault();try{await axios.post(\"http://localhost:3000/review\",{albumId,score,reviewBody}).then(res=>{if(res.data===\"Invalid score!\"){setErrorMessage(res.data);}else if(res.data===\"Valid score!\"){window.location.reload();}}).catch(e=>{setErrorMessage(\"Invalid score!\");console.log(e);});}catch(e){console.log(e);}}return/*#__PURE__*/_jsx(\"div\",{className:\"review-container mb-3\",children:/*#__PURE__*/_jsx(\"form\",{action:\"POST\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"review-inputs\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"review-item score\",children:[/*#__PURE__*/_jsx(\"textarea\",{id:\"review-score\",className:\"review-score\",maxLength:3,onChange:e=>{setScore(e.target.value);},placeholder:\"0-100\",rows:1,cols:5,wrap:\"soft\"}),/*#__PURE__*/_jsx(\"button\",{className:\"rate-button\",onClick:submitScore,children:\"RATE\"}),/*#__PURE__*/_jsx(\"p\",{className:\"review-error\",children:errorMessage})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"review-item revbody\",children:[/*#__PURE__*/_jsx(\"textarea\",{id:\"review-body\",className:\"review-body\",maxLength:5000,onChange:e=>{setReviewBody(e.target.value);},placeholder:\"Write your review (optional)\",cols:100,wrap:\"soft\"}),/*#__PURE__*/_jsx(\"button\",{className:\"rate-button review-button\",onClick:submitScore,children:\"SUBMIT REVIEW\"})]})]})})});}export default Review;","map":{"version":3,"names":["React","useState","useEffect","axios","Link","jsx","_jsx","jsxs","_jsxs","Review","_ref","albumId","reviewBody","setReviewBody","score","setScore","userData","setUserData","errorMessage","setErrorMessage","submitScore","e","preventDefault","post","then","res","data","window","location","reload","catch","console","log","className","children","action","id","maxLength","onChange","target","value","placeholder","rows","cols","wrap","onClick"],"sources":["C:/Users/luker/SeniorProject/senior-music-project/frontend/src/Components/home-page/review.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\n\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom'; \r\n\r\nimport './review.css';\r\n\r\n\r\nfunction Review({albumId}) {\r\n  const [reviewBody, setReviewBody] = useState('');\r\n  const [score, setScore] = useState('');\r\n  const [userData, setUserData] = useState(null);\r\n  const [errorMessage, setErrorMessage]= useState('');\r\n\r\n \r\n\r\n\r\n\r\n\r\n  async function submitScore(e) {\r\n    e.preventDefault();\r\n    try {\r\n\r\n      await axios.post(\"http://localhost:3000/review\", {\r\n          albumId, score, reviewBody\r\n      })\r\n      .then(res=>{\r\n          if(res.data===\"Invalid score!\"){\r\n              setErrorMessage(res.data)\r\n          } else if(res.data===\"Valid score!\"){\r\n            window.location.reload();\r\n          } \r\n      })\r\n      .catch(e=> {\r\n          setErrorMessage(\"Invalid score!\")\r\n          console.log(e);\r\n      })\r\n      \r\n\r\n  } catch(e) {\r\n      console.log(e)\r\n  }\r\n  }\r\n  \r\n\r\n\r\n  return (\r\n    <div className=\"review-container mb-3\">\r\n      <form action=\"POST\">\r\n        <div className=\"review-inputs\">\r\n          <div className=\"review-item score\">\r\n           \r\n            <textarea\r\n              id=\"review-score\"\r\n              className=\"review-score\"\r\n              maxLength={3}\r\n              onChange={(e) => {\r\n                setScore(e.target.value);\r\n              }}\r\n              placeholder=\"0-100\"\r\n              rows={1}\r\n              cols={5}\r\n              wrap=\"soft\"\r\n            />\r\n            <button className = 'rate-button' onClick={submitScore}>RATE</button>\r\n            <p className = 'review-error'>{errorMessage}</p>\r\n          </div>\r\n          <div className=\"review-item revbody\">\r\n            <textarea\r\n              id=\"review-body\"\r\n              className=\"review-body\"\r\n              maxLength={5000}\r\n              onChange={(e) => {\r\n                setReviewBody(e.target.value);\r\n              }}\r\n              placeholder=\"Write your review (optional)\"\r\n              cols={100}\r\n              wrap=\"soft\"\r\n            />\r\n            <button className = 'rate-button review-button' onClick={submitScore}>SUBMIT REVIEW</button>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Review;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}