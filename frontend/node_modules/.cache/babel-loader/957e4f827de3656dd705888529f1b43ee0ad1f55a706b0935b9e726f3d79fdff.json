{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{useParams,NavLink,Route,Switch}from'react-router-dom';import{Container}from\"react-bootstrap\";import axios from\"axios\";import UserIcon from'../Assets/Icons/UserProfileIcon.png';import'./profile.css';import'./home.css';import{ColorExtractor}from'react-color-extractor';import chroma from'chroma-js';import CustomCardResult from\"./CustomCardResult.jsx\";import CustomTracklist from\"./CustomTracklist.jsx\";import Genres from\"./genres.json\";import Loading from\"./loading.jsx\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const CLIENT_ID=\"5d8c84c59ac8435e91aa1c9d5d2e9706\";const CLIENT_SECRET=\"93799cce40b641bb951a9b6966e3f2c0\";function UserPage(){const{userId}=useParams();// Get the artistId from the URL\nconst[userResults,setUserResults]=useState([]);const[token,setToken]=useState(null);const[loading,setLoading]=useState(true);const[extractedColors,setExtractedColors]=useState([]);const[userAuth,setUserAuth]=useState(false);const[gradientString,setGradientString]=useState('');const[bodyGradient,setBodyGradient]=useState('');const[activeTab,setActiveTab]=useState('Overview');function get_user_token(){const hash=window.location.hash.substring(1).split('&').reduce(function(initial,item){if(item){let parts=item.split('=');initial[parts[0]]=decodeURIComponent(parts[1]);}return initial;},{});window.location.hash='';let _token=hash.access_token;return _token;}const handleSpotifyLogin=()=>{console.log('handleSpotifyLogin function called.');const authEndpoint='https://accounts.spotify.com/authorize';const clientId='5d8c84c59ac8435e91aa1c9d5d2e9706';const redirectUri='localhost:3000/';const scopes=['user-top-read','user-follow-read','user-read-recently-played','streaming'];// Check if the user is not already authorized\nif(!userAuth){const authUrl=\"\".concat(authEndpoint,\"?client_id=\").concat(clientId,\"&redirect_uri=\").concat(encodeURIComponent(redirectUri),\"&scope=\").concat(encodeURIComponent(scopes.join(' ')),\"&response_type=token&show_dialog=true\");// Redirect the user to Spotify's authorization page\nwindow.location.href=authUrl;}};// Function to handle tab click and set the active tab\nconst handleTabClick=tabName=>{setActiveTab(tabName);};const handleGetColors=colors=>{// Store the extracted colors in state\nsetExtractedColors(colors[2]);const startColor=colors[2];const darkerColor=darkenColor(startColor,0.5);// Darken the color \nconst gradient=\"linear-gradient(to bottom, \".concat(startColor,\", \").concat(darkerColor,\")\");setGradientString(gradient);const bodyDark=darkenColor(startColor,0.6);const bodyGradient=\"linear-gradient(to bottom, \".concat(bodyDark,\" , #201d24,#201d24, #201d24 )\");setBodyGradient(bodyGradient);};const darkenColor=(color,amount)=>{// Remove the \"#\" symbol from the color string and split it into RGB components\nconst[r,g,b]=color.substring(1).match(/.{2}/g).map(value=>parseInt(value,16));// Calculate a darker shade by reducing RGB values\nconst darkerR=Math.round(r*(1-amount));const darkerG=Math.round(g*(1-amount));const darkerB=Math.round(b*(1-amount));// Construct a new color string in hexadecimal format\nreturn\"#\".concat(darkerR.toString(16).padStart(2,'0')).concat(darkerG.toString(16).padStart(2,'0')).concat(darkerB.toString(16).padStart(2,'0'));};useEffect(()=>{async function fetchData(){// Fetch access token once during component initialization\nsetLoading(true);performSearch();setLoading(false);// Set loading to false when data is loaded\nsetToken(get_user_token());}fetchData();},[userId]);// Make sure to update the data when artistId changes\nasync function performSearch(){const userResults=await axios.post(\"http://localhost:3000/user\",{id:userId}).then(response=>response.data).catch(e=>{console.log(e);return{};});if(userResults){setUserResults(userResults);}else{setUserResults([]);}const userAuth=await axios.post(\"http://localhost:3000/user-authenticate\",{id:userId}).then(response=>response.data).catch(e=>{console.log(e);return false;});console.log(userAuth);setUserAuth(userAuth);const getTopArtists=async timeRange=>{try{const token='YOUR_ACCESS_TOKEN';// Replace with your access token\nconst response=await fetch(\"https://api.spotify.com/v1/me/top/artists?time_range=\".concat(timeRange),{method:'GET',headers:{'Authorization':\"Bearer \".concat(token)// Use the access token obtained earlier\n}});if(response.ok){const data=await response.json();console.log(data);// Log the response data\n// Process the response data as needed or set it in state\n}else{console.log('error getting top artists');}}catch(e){console.log(e);// Handle errors appropriately\n}};console.log(\"TOP ARTISTS: \",getTopArtists(\"medium_term\"));}return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"page-body\",children:loading?/*#__PURE__*/_jsx(Loading,{}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(ColorExtractor,{src:UserIcon,getColors:handleGetColors}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-head\",style:{background:gradientString},children:[/*#__PURE__*/_jsx(\"div\",{className:\"column-left\",children:/*#__PURE__*/_jsx(\"div\",{className:\"artist-image-container\",children:/*#__PURE__*/_jsx(\"img\",{src:UserIcon,className:\"artist-image profile-image mb-3\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"column-right\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"profile-name\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"profile-caption\",children:userResults.username})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"h1\",{className:\"caption  type-caption \",children:[\" @\",userResults.accountname,\" \"]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"genre-list\",children:/*#__PURE__*/_jsx(\"a\",{className:\"artist-link\",children:\"User\"})})})}),userAuth===true&&/*#__PURE__*/_jsx(\"button\",{id:\"loginButton\",onClick:handleSpotifyLogin(),children:\"Authorize Spotify\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"profile-body\",style:{background:bodyGradient},children:/*#__PURE__*/_jsxs(\"div\",{className:\"profile-body-expand\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"top-songs top-tabs pb-3 pt-3\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"top-tab caption profile-subcaption pb-3 \".concat(activeTab==='Overview'?'active-profile':''),onClick:()=>handleTabClick('Overview'),children:\"Overview\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"top-tab caption profile-subcaption pb-3 \".concat(activeTab==='Review'?'active-profile':''),onClick:()=>handleTabClick('Review'),children:\"Reviews\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"top-tab caption profile-subcaption pb-3 \".concat(activeTab==='Stats'?'active-profile':''),onClick:()=>handleTabClick('Stats'),children:\"Stats\"})]}),activeTab==='Overview'&&/*#__PURE__*/ // Content related to Overview tab\n_jsx(\"div\",{className:\"content-overview\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"caption profile-altsubcaption pb-3 pt-3\",children:\"User content unavailable.\"})}),activeTab==='Review'&&/*#__PURE__*/ // Content related to Overview tab\n_jsx(\"div\",{className:\"content-overview\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"caption profile-altsubcaption pb-3 pt-3\",children:\"User reviews unavailable.\"})}),activeTab==='Stats'&&/*#__PURE__*/ // Content related to Stats tab\n_jsx(\"div\",{className:\"content-stats\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h1\",{className:\"caption profile-altsubcaption pb-3 pt-3\",children:\"User stats not found.\"})})})]})})]})})});}export default UserPage;","map":{"version":3,"names":["React","useState","useEffect","useParams","NavLink","Route","Switch","Container","axios","UserIcon","ColorExtractor","chroma","CustomCardResult","CustomTracklist","Genres","Loading","jsx","_jsx","jsxs","_jsxs","CLIENT_ID","CLIENT_SECRET","UserPage","userId","userResults","setUserResults","token","setToken","loading","setLoading","extractedColors","setExtractedColors","userAuth","setUserAuth","gradientString","setGradientString","bodyGradient","setBodyGradient","activeTab","setActiveTab","get_user_token","hash","window","location","substring","split","reduce","initial","item","parts","decodeURIComponent","_token","access_token","handleSpotifyLogin","console","log","authEndpoint","clientId","redirectUri","scopes","authUrl","concat","encodeURIComponent","join","href","handleTabClick","tabName","handleGetColors","colors","startColor","darkerColor","darkenColor","gradient","bodyDark","color","amount","r","g","b","match","map","value","parseInt","darkerR","Math","round","darkerG","darkerB","toString","padStart","fetchData","performSearch","post","id","then","response","data","catch","e","getTopArtists","timeRange","fetch","method","headers","ok","json","children","className","src","getColors","style","background","username","accountname","onClick"],"sources":["C:/Users/luker/SeniorProject/senior-music-project/frontend/src/Components/home-page/user-page.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useParams, NavLink, Route, Switch } from 'react-router-dom';\r\nimport { Container } from \"react-bootstrap\";\r\nimport axios from \"axios\"\r\nimport UserIcon from '../Assets/Icons/UserProfileIcon.png';\r\nimport './profile.css'\r\nimport './home.css'\r\nimport { ColorExtractor  } from 'react-color-extractor';\r\nimport chroma from 'chroma-js';\r\nimport CustomCardResult from \"./CustomCardResult.jsx\";\r\nimport CustomTracklist from \"./CustomTracklist.jsx\"\r\nimport Genres from \"./genres.json\";\r\nimport Loading from \"./loading.jsx\"\r\n\r\n\r\n\r\n\r\nconst CLIENT_ID = \"5d8c84c59ac8435e91aa1c9d5d2e9706\";\r\nconst CLIENT_SECRET = \"93799cce40b641bb951a9b6966e3f2c0\";\r\n\r\nfunction UserPage() {\r\n\r\n   \r\n    const { userId } = useParams(); // Get the artistId from the URL\r\n    const [userResults, setUserResults] = useState([]);\r\n\r\n    const [token, setToken] = useState(null)\r\n\r\n    const [loading, setLoading] = useState(true);\r\n    const [extractedColors, setExtractedColors] = useState([]);\r\n    const [userAuth, setUserAuth] = useState(false)\r\n    const [gradientString, setGradientString] = useState('');\r\n    const [bodyGradient, setBodyGradient] = useState('');\r\n    const [activeTab, setActiveTab] = useState('Overview');\r\n\r\n    function get_user_token() {\r\n        const hash = window.location.hash\r\n        .substring(1)\r\n        .split('&')\r\n        .reduce(function (initial, item) {\r\n          if (item) {\r\n            let parts = item.split('=');\r\n            initial[parts[0]] = decodeURIComponent(parts[1]);\r\n          }\r\n          return initial;\r\n        }, {});\r\n        window.location.hash = '';\r\n      \r\n        let _token = hash.access_token;\r\n        return _token;\r\n    }\r\n\r\n    const handleSpotifyLogin = () => {\r\n        console.log('handleSpotifyLogin function called.');\r\n        const authEndpoint = 'https://accounts.spotify.com/authorize';\r\n        const clientId = '5d8c84c59ac8435e91aa1c9d5d2e9706';\r\n        const redirectUri = 'localhost:3000/';\r\n        const scopes = [ 'user-top-read', 'user-follow-read', 'user-read-recently-played', 'streaming' ];\r\n    \r\n        // Check if the user is not already authorized\r\n        if (!userAuth) {\r\n          const authUrl = `${authEndpoint}?client_id=${clientId}&redirect_uri=${encodeURIComponent(redirectUri)}&scope=${encodeURIComponent(scopes.join(' '))}&response_type=token&show_dialog=true`;\r\n    \r\n          // Redirect the user to Spotify's authorization page\r\n          window.location.href = authUrl;\r\n        }\r\n    };\r\n\r\n    // Function to handle tab click and set the active tab\r\n    const handleTabClick = (tabName) => {\r\n        setActiveTab(tabName);\r\n    };\r\n\r\n    const handleGetColors = (colors) => {\r\n        // Store the extracted colors in state\r\n        setExtractedColors(colors[2]);\r\n        const startColor = colors[2];\r\n        const darkerColor = darkenColor(startColor, 0.5); // Darken the color \r\n        const gradient = `linear-gradient(to bottom, ${startColor}, ${darkerColor})`;\r\n        setGradientString(gradient);\r\n        const bodyDark = darkenColor(startColor, 0.6);\r\n        const bodyGradient = `linear-gradient(to bottom, ${bodyDark} , #201d24,#201d24, #201d24 )`\r\n        setBodyGradient(bodyGradient)\r\n    };\r\n\r\n    const darkenColor = (color, amount) => {\r\n        // Remove the \"#\" symbol from the color string and split it into RGB components\r\n        const [r, g, b] = color.substring(1).match(/.{2}/g).map((value) => parseInt(value, 16));\r\n    \r\n        // Calculate a darker shade by reducing RGB values\r\n        const darkerR = Math.round(r * (1 - amount));\r\n        const darkerG = Math.round(g * (1 - amount));\r\n        const darkerB = Math.round(b * (1 - amount));\r\n    \r\n        // Construct a new color string in hexadecimal format\r\n        return `#${darkerR.toString(16).padStart(2, '0')}${darkerG.toString(16).padStart(2, '0')}${darkerB.toString(16).padStart(2, '0')}`;\r\n      };\r\n    \r\n    useEffect(() => {\r\n        async function fetchData() {\r\n            // Fetch access token once during component initialization\r\n            setLoading(true);\r\n            \r\n            performSearch()\r\n            \r\n\r\n            setLoading(false); // Set loading to false when data is loaded\r\n\r\n            setToken(get_user_token());\r\n        }\r\n\r\n        fetchData();\r\n    }, [userId]); // Make sure to update the data when artistId changes\r\n\r\n    async function performSearch() {\r\n\r\n        const userResults = await axios.post(\"http://localhost:3000/user\", {id: userId})\r\n            .then(response => response.data)\r\n            .catch(e=> {\r\n                console.log(e);\r\n                return {}\r\n            })\r\n\r\n        if (userResults) {\r\n            setUserResults(userResults);\r\n        } else {\r\n            setUserResults([]);\r\n        }\r\n        const userAuth = await axios.post(\"http://localhost:3000/user-authenticate\", {id: userId})\r\n            .then(response => response.data)\r\n            .catch(e=> {\r\n                console.log(e);\r\n                return false;\r\n            })\r\n        \r\n\r\n        console.log(userAuth);\r\n        setUserAuth(userAuth);\r\n\r\n        const getTopArtists = async (timeRange) => {\r\n            try {\r\n                const token = 'YOUR_ACCESS_TOKEN'; // Replace with your access token\r\n                const response = await fetch(`https://api.spotify.com/v1/me/top/artists?time_range=${timeRange}`, {\r\n                    method: 'GET',\r\n                    headers: {\r\n                        'Authorization': `Bearer ${token}` // Use the access token obtained earlier\r\n                    }\r\n                });\r\n    \r\n                if (response.ok) {\r\n                    const data = await response.json();\r\n                    console.log(data); // Log the response data\r\n                    // Process the response data as needed or set it in state\r\n                } else {\r\n                    console.log('error getting top artists')\r\n                }\r\n            } catch (e) {\r\n                console.log(e);\r\n                // Handle errors appropriately\r\n            }\r\n        };\r\n\r\n        console.log(\"TOP ARTISTS: \", getTopArtists(\"medium_term\") )\r\n\r\n    }\r\n\r\n   \r\n\r\n   \r\n\r\n    \r\n\r\n    \r\n\r\n\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"page-body\">\r\n                {loading ? (\r\n                    <Loading/>\r\n                ) : (\r\n                    <div >\r\n                        <ColorExtractor\r\n                            src={UserIcon}\r\n                            getColors={handleGetColors}\r\n                        />\r\n                        <div className=\"profile-head\" style={{ background: gradientString }}>\r\n                            <div className=\"column-left\">\r\n                                <div className=\"artist-image-container\">\r\n                                    <img src={UserIcon} className=\"artist-image profile-image mb-3\" />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"column-right\">\r\n                                <div className = \"profile-name\">\r\n                                    <h1 className=\"profile-caption\">{userResults.username}</h1>\r\n                                </div>\r\n                                <div>\r\n                                    <h1 className=\"caption  type-caption \"> @{userResults.accountname} </h1>\r\n                                </div>\r\n\r\n                                <div>\r\n                                  \r\n                                    <div>\r\n                                        \r\n                                        <div className=\"genre-list\">\r\n                                     \r\n                                            <a   className=\"artist-link\">\r\n                                                User\r\n                                            </a>\r\n                                      \r\n                                        </div>\r\n                                    </div>\r\n                                   \r\n                                </div>\r\n                                {userAuth === true && (\r\n                                    <button id=\"loginButton\" onClick={handleSpotifyLogin()}>\r\n                                        Authorize Spotify\r\n                                    </button>\r\n                                )}\r\n                            </div>\r\n                            \r\n                        </div>\r\n\r\n                        <div className = \"profile-body\" style ={{background: bodyGradient}}>\r\n                            <div className = \"profile-body-expand\">\r\n\r\n                                <div className = \"top-songs top-tabs pb-3 pt-3\">\r\n                                    <h1 className={`top-tab caption profile-subcaption pb-3 ${activeTab === 'Overview' ? 'active-profile' : ''}`} \r\n                                        onClick={() => handleTabClick('Overview')}>Overview</h1>\r\n                                    <h1 className={`top-tab caption profile-subcaption pb-3 ${activeTab === 'Review' ? 'active-profile' : ''}`} \r\n                                        onClick={() => handleTabClick('Review')}>Reviews</h1>\r\n                                    <h1 className={`top-tab caption profile-subcaption pb-3 ${activeTab === 'Stats' ? 'active-profile' : ''}`} \r\n                                        onClick={() => handleTabClick('Stats')}>Stats</h1>\r\n       \r\n                                </div>\r\n\r\n\r\n\r\n\r\n                                     \r\n\r\n\r\n\r\n                                {activeTab === 'Overview' && (\r\n                                    // Content related to Overview tab\r\n                                    <div className=\"content-overview\">\r\n                                        <h1 className = \"caption profile-altsubcaption pb-3 pt-3\">User content unavailable.</h1>\r\n                                    </div>\r\n                                )}\r\n\r\n                                {activeTab === 'Review' && (\r\n                                    // Content related to Overview tab\r\n                                    <div className=\"content-overview\">\r\n                                        <h1 className = \"caption profile-altsubcaption pb-3 pt-3\">User reviews unavailable.</h1>\r\n                                    </div>\r\n                                )}\r\n\r\n                                {activeTab === 'Stats' && (\r\n                                    // Content related to Stats tab\r\n                                    <div className=\"content-stats\">\r\n\r\n                                            <div>\r\n                                                <h1 className = \"caption profile-altsubcaption pb-3 pt-3\">User stats not found.</h1>\r\n                                            </div>\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                            \r\n                        </div>\r\n\r\n                    </div>\r\n                       \r\n                    \r\n\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default UserPage;\r\n\r\n\r\n\r\n  "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}