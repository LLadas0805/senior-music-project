{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useNavigate,Link}from\"react-router-dom\";import axios from\"axios\";import'./login-signup.css';import IconLogo from'../Assets/Icons/IconLogo.png';import PasswordHide from'../Assets/Icons/PasswordHide.png';import PasswordShown from'../Assets/Icons/PasswordShown.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Signup(){const history=useNavigate();const[user,setUser]=useState('');const[account,setAccount]=useState('');const[password,setPassword]=useState('');const[showPassword,setShowPassword]=useState(false);const[userData,setUserData]=useState(null);useEffect(()=>{// Make an API call to fetch user data from the backend\naxios.get(\"http://localhost:3000/session\").then(response=>{// Handle successful response\nsetUserData(response.data);// Assuming the response contains user data\nif(response.data){history(\"/\");}}).catch(error=>{// Handle error\nconsole.error(\"Error fetching user data:\",error);});},[]);const togglePasswordVisibility=()=>{setShowPassword(!showPassword);};async function submit(e){e.preventDefault();try{await axios.post(\"http://localhost:3000/signup\",{user,account,password}).then(res=>{if(res.data===\"exist\"){alert(\"User already exists\");}else if(res.data===\"not exist\"){console.log(\"Hello\");history(\"/\",{state:{id:user}});window.location.reload();}else if(res.data===\"invalid password\"){alert(\"Please make sure password is at least 8 characters and has one special character and number!\");}}).catch(e=>{alert(\"Wrong details\");console.log(e);});}catch(e){console.log(e);}}return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"logo\",children:[/*#__PURE__*/_jsx(\"img\",{src:IconLogo,width:\"100\",height:\"100\",alt:\"\"}),/*#__PURE__*/_jsx(\"div\",{className:\"logotext\",children:\"Harmony\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"caption\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text\",children:\"Sign up for Harmony.\"})})]}),/*#__PURE__*/_jsxs(\"form\",{action:\"POST\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"inputs\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",children:\"Choose a display name\"}),/*#__PURE__*/_jsx(\"div\",{className:\"input-text\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"username\",onChange:e=>{setUser(e.target.value);},placeholder:\"Enter a display name\",required:true})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"accountname\",children:\"Choose an account name\"}),/*#__PURE__*/_jsx(\"div\",{className:\"input-text\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"accountname\",onChange:e=>{setAccount(e.target.value);},placeholder:\"Enter an account name\",required:true})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Create a password\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-text\",children:[/*#__PURE__*/_jsx(\"input\",{type:showPassword?'text':'password',id:\"password\",onChange:e=>{setPassword(e.target.value);},placeholder:\"Enter a password\",required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"password-button\",onClick:togglePasswordVisibility,children:/*#__PURE__*/_jsx(\"img\",{src:showPassword?PasswordShown:PasswordHide})})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"submit-container\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",onClick:submit,className:\"submit\",children:\"Sign Up\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"have-account text-center\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Already have an account? \",/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Log in\"}),\".\"]})})]})})});}export default Signup;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","Link","axios","IconLogo","PasswordHide","PasswordShown","jsx","_jsx","jsxs","_jsxs","Signup","history","user","setUser","account","setAccount","password","setPassword","showPassword","setShowPassword","userData","setUserData","get","then","response","data","catch","error","console","togglePasswordVisibility","submit","e","preventDefault","post","res","alert","log","state","id","window","location","reload","className","children","src","width","height","alt","action","htmlFor","type","onChange","target","value","placeholder","required","onClick","to"],"sources":["C:/Users/luker/SeniorProject/senior-music-project/frontend/src/Components/login-signup/signup.jsx"],"sourcesContent":["import React, {useEffect, useState} from 'react'\r\nimport {useNavigate, Link} from \"react-router-dom\"\r\nimport axios from \"axios\"\r\nimport './login-signup.css'\r\nimport IconLogo from '../Assets/Icons/IconLogo.png'\r\nimport PasswordHide from '../Assets/Icons/PasswordHide.png'\r\nimport PasswordShown from '../Assets/Icons/PasswordShown.png'\r\n\r\n\r\nfunction Signup () {\r\n\r\n    const history=useNavigate();\r\n\r\n    const [user, setUser]=useState('')\r\n    const [account, setAccount]=useState('')\r\n    const [password, setPassword] = useState('')\r\n    const [showPassword, setShowPassword] = useState(false);\r\n    const [userData, setUserData] = useState(null);\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        \r\n\r\n\r\n        // Make an API call to fetch user data from the backend\r\n        axios.get(\"http://localhost:3000/session\")\r\n          .then(response => {\r\n            // Handle successful response\r\n            setUserData(response.data); // Assuming the response contains user data\r\n            if (response.data) {\r\n                history(\"/\");\r\n            }\r\n          })\r\n          .catch(error => {\r\n            // Handle error\r\n            console.error(\"Error fetching user data:\", error);\r\n        });\r\n        \r\n        \r\n\r\n\r\n    }, []);\r\n   \r\n\r\n    const togglePasswordVisibility = () => {\r\n        setShowPassword(!showPassword);\r\n        \r\n    };\r\n\r\n    async function submit(e){\r\n        e.preventDefault()\r\n         \r\n        \r\n\r\n        try {\r\n\r\n            await axios.post(\"http://localhost:3000/signup\", {\r\n                user, account, password\r\n            })\r\n            .then(res=>{\r\n                if(res.data===\"exist\"){\r\n                    alert(\"User already exists\")\r\n                    \r\n                } else if(res.data===\"not exist\"){\r\n                    console.log(\"Hello\")\r\n                    history(\"/\", {state:{id:user}})\r\n                    window.location.reload();\r\n                } else if (res.data === \"invalid password\") {\r\n                    alert(\"Please make sure password is at least 8 characters and has one special character and number!\");\r\n                }\r\n            })\r\n            .catch(e=> {\r\n                alert(\"Wrong details\")\r\n                console.log(e);\r\n            })\r\n\r\n        } catch(e) {\r\n            console.log(e)\r\n        }\r\n    }\r\n    \r\n    return (\r\n        \r\n        <div className=\"container\">\r\n        <div className=\"row justify-content-center\">\r\n            <div className=\"col-md-6\">\r\n            <div className=\"header text-center\">\r\n                <div className=\"logo\">\r\n                <img src={IconLogo} width=\"100\" height=\"100\" alt=\"\" />\r\n                <div className=\"logotext\">Harmony</div>\r\n                </div>\r\n                <div className=\"caption\">\r\n                <div className=\"text\">Sign up for Harmony.</div>\r\n                </div>\r\n            </div>\r\n            <form action=\"POST\">\r\n                <div className=\"inputs\">\r\n                <div className=\"input\">\r\n                    <label htmlFor=\"username\">Choose a display name</label>\r\n                    <div className = \"input-text\">\r\n                        <input\r\n                        type=\"text\"\r\n                        id=\"username\"\r\n                        onChange={(e) => {\r\n                            setUser(e.target.value);\r\n                        }}\r\n\r\n                        placeholder=\"Enter a display name\"\r\n                        required \r\n                        />\r\n                        \r\n                    </div>\r\n                   \r\n                </div>\r\n                <div className=\"input\">\r\n                    <label htmlFor=\"accountname\">Choose an account name</label>\r\n                    <div className = \"input-text\">\r\n                        <input\r\n                        type=\"text\"\r\n                        id=\"accountname\"\r\n                        onChange={(e) => {\r\n                            setAccount(e.target.value);\r\n                        }}\r\n\r\n                        placeholder=\"Enter an account name\"\r\n                        required \r\n                        />\r\n                        \r\n                    </div>\r\n                   \r\n                </div>\r\n                <div className=\"input\">\r\n                    <label htmlFor=\"password\">Create a password</label>\r\n                    <div className = \"input-text\">\r\n                        <input\r\n                        type={showPassword ? 'text' : 'password'}\r\n                        id=\"password\"\r\n                        onChange={(e) => {\r\n                            setPassword(e.target.value);\r\n                        }}\r\n                        placeholder=\"Enter a password\"\r\n                        required\r\n                        />\r\n                        <button type = \"button\" \r\n                        className=\"password-button\"\r\n                        onClick={togglePasswordVisibility}>\r\n                            <img src={showPassword ? PasswordShown : PasswordHide}/>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                </div>\r\n\r\n                \r\n                <div className = \"submit-container\" >\r\n                        <button type = \"submit\" onClick={submit} className = \"submit\">Sign Up</button>\r\n                \r\n                </div>\r\n            </form>\r\n\r\n            <div className=\"have-account text-center\">\r\n                <p>\r\n                Already have an account? <Link to={\"/login\"}>Log in</Link>.\r\n                </p>\r\n            </div>\r\n            </div>\r\n        </div>\r\n        </div>\r\n\r\n       \r\n    )\r\n}\r\n\r\n\r\n\r\nexport default Signup"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}