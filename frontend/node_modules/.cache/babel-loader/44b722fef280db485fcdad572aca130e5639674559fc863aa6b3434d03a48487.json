{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{Link,useLocation,useNavigate}from'react-router-dom';import'./Sidebar.css';// Import CSS file for styling\nimport'./home.css';import HomeIcon from'../Assets/Icons/HomeIcon.png';import HomeIconActive from'../Assets/Icons/HomeIconActive.png';import SearchIcon from'../Assets/Icons/SearchIcon.png';import SearchIconActive from'../Assets/Icons/SearchIconActive.png';import ProfileIcon from'../Assets/Icons/ProfileIcon.png';import ProfileIconActive from'../Assets/Icons/ProfileIconActive.png';import axios from\"axios\";import wallpaper from'../Assets/Icons/wallpaper.jpg';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const linkStyles={textDecoration:'none',// Remove underline\ncolor:'inherit'// Inherit the color from the parent\n};const Sidebar=()=>{const[userData,setUserData]=useState(null);const location=useLocation();// Get the current URL location\nconst navigate=useNavigate();// Access the history object for navigation\nconst[historyStack,setHistoryStack]=useState([]);const[forwardStack,setForwardStack]=useState([]);// Function to check if the link is active\nconst isActiveLink=link=>{return location.pathname===link;};useEffect(()=>{// Make an API call to fetch user data from the backend\naxios.get(\"http://localhost:3000/session\").then(response=>{// Handle successful response\nsetUserData(response.data);// Assuming the response contains user data\n}).catch(error=>{// Handle error\nconsole.error(\"Error fetching user data:\",error);});},[]);useEffect(()=>{setHistoryStack(prevHistory=>[...prevHistory,location.pathname]);setForwardStack([]);// Clear forward stack whenever location changes\n},[location]);const goBack=()=>{if(historyStack.length>1){const prevPath=historyStack[historyStack.length-2];setHistoryStack(prevHistory=>prevHistory.slice(0,-1));// Remove current path from history\nsetForwardStack(prevForward=>[location.pathname,...prevForward]);// Push current path to forward stack\nnavigate(prevPath);// Navigate to the previous path\n}};const goForward=()=>{if(forwardStack.length>0){const nextPath=forwardStack[0];setHistoryStack(prevHistory=>[...prevHistory,nextPath]);// Add next path to history\nsetForwardStack(prevForward=>prevForward.slice(1));// Remove next path from forward stack\nnavigate(nextPath);// Navigate to the next path\n}};const isAtOldestEntry=historyStack.length<=1;// Check if it's the oldest entry\nconst isAtNewestEntry=forwardStack.length===0;// Check if it's the newest entry\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-item\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"history-button\",onClick:goBack,disabled:isAtOldestEntry,children:/*#__PURE__*/_jsx(\"span\",{className:\"button-text \",children:'<'})}),/*#__PURE__*/_jsx(\"button\",{className:\"history-button\",onClick:goForward,disabled:isAtNewestEntry,children:/*#__PURE__*/_jsx(\"span\",{className:\"button-text \",children:'>'})})]}),/*#__PURE__*/_jsx(Link,{to:'/',style:linkStyles,children:/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-item \".concat(isActiveLink('/')?'active-tab':''),children:[/*#__PURE__*/_jsx(\"img\",{className:\"sidebar-icon\",src:isActiveLink('/home')?HomeIconActive:HomeIcon}),/*#__PURE__*/_jsx(\"h1\",{className:\"sidebar-text\",children:\"Home\"})]})}),/*#__PURE__*/_jsx(Link,{to:'/search',style:linkStyles,children:/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-item \".concat(isActiveLink('/search')?'active-tab':''),children:[/*#__PURE__*/_jsx(\"img\",{className:\"sidebar-icon\",src:isActiveLink('/search')?SearchIconActive:SearchIcon}),/*#__PURE__*/_jsx(\"h1\",{className:\"sidebar-text\",children:\"Search\"})]})}),userData?/*#__PURE__*/ // Conditionally render user account or login link\n_jsx(Link,{to:\"/user/\".concat(userData._id),style:linkStyles,children:/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-item \".concat(isActiveLink('/profile')?'active-tab':''),children:[/*#__PURE__*/_jsx(\"img\",{className:\"sidebar-icon\",src:isActiveLink('/profile')?ProfileIconActive:ProfileIcon}),/*#__PURE__*/_jsx(\"h1\",{className:\"sidebar-text\",children:\"Account\"})]})}):/*#__PURE__*/_jsx(Link,{to:'/login',style:linkStyles,children:/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-item\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"sidebar-icon\",src:ProfileIcon}),/*#__PURE__*/_jsx(\"h1\",{className:\"sidebar-text\",children:\"Login\"})]})})]});};export default Sidebar;","map":{"version":3,"names":["React","useState","useEffect","Link","useLocation","useNavigate","HomeIcon","HomeIconActive","SearchIcon","SearchIconActive","ProfileIcon","ProfileIconActive","axios","wallpaper","jsx","_jsx","jsxs","_jsxs","linkStyles","textDecoration","color","Sidebar","userData","setUserData","location","navigate","historyStack","setHistoryStack","forwardStack","setForwardStack","isActiveLink","link","pathname","get","then","response","data","catch","error","console","prevHistory","goBack","length","prevPath","slice","prevForward","goForward","nextPath","isAtOldestEntry","isAtNewestEntry","className","children","onClick","disabled","to","style","concat","src","_id"],"sources":["C:/Users/luker/SeniorProject/senior-music-project/frontend/src/Components/home-page/sidebar.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Link, useLocation, useNavigate  } from 'react-router-dom';\r\nimport './Sidebar.css'; // Import CSS file for styling\r\nimport './home.css'\r\nimport HomeIcon from '../Assets/Icons/HomeIcon.png'\r\nimport HomeIconActive from '../Assets/Icons/HomeIconActive.png'\r\nimport SearchIcon from '../Assets/Icons/SearchIcon.png'\r\nimport SearchIconActive from '../Assets/Icons/SearchIconActive.png'\r\nimport ProfileIcon from '../Assets/Icons/ProfileIcon.png'\r\nimport ProfileIconActive from '../Assets/Icons/ProfileIconActive.png'\r\nimport axios from \"axios\"\r\n\r\nimport wallpaper from '../Assets/Icons/wallpaper.jpg'\r\n\r\nconst linkStyles = {\r\n  textDecoration: 'none', // Remove underline\r\n  color: 'inherit', // Inherit the color from the parent\r\n};\r\n\r\nconst Sidebar = () => {\r\n  const [userData, setUserData] = useState(null);\r\n  const location = useLocation(); // Get the current URL location\r\n  const navigate = useNavigate(); // Access the history object for navigation\r\n  \r\n  const [historyStack, setHistoryStack] = useState([]);\r\n  const [forwardStack, setForwardStack] = useState([]); \r\n  \r\n  // Function to check if the link is active\r\n  const isActiveLink = (link) => {\r\n    return location.pathname === link;\r\n  };\r\n\r\n\r\n  useEffect(() => {\r\n    // Make an API call to fetch user data from the backend\r\n    axios.get(\"http://localhost:3000/session\")\r\n      .then(response => {\r\n        // Handle successful response\r\n        setUserData(response.data); // Assuming the response contains user data\r\n      })\r\n      .catch(error => {\r\n        // Handle error\r\n        console.error(\"Error fetching user data:\", error);\r\n    });\r\n}, []);\r\n\r\nuseEffect(() => {\r\n  setHistoryStack((prevHistory) => [...prevHistory, location.pathname]);\r\n  setForwardStack([]); // Clear forward stack whenever location changes\r\n}, [location]);\r\n\r\n\r\n  const goBack = () => {\r\n    if (historyStack.length > 1) {\r\n      const prevPath = historyStack[historyStack.length - 2];\r\n      setHistoryStack((prevHistory) => prevHistory.slice(0, -1)); // Remove current path from history\r\n      setForwardStack((prevForward) => [location.pathname, ...prevForward]); // Push current path to forward stack\r\n      navigate(prevPath); // Navigate to the previous path\r\n    }\r\n  };\r\n\r\n  const goForward = () => {\r\n    if (forwardStack.length > 0) {\r\n      const nextPath = forwardStack[0];\r\n      setHistoryStack((prevHistory) => [...prevHistory, nextPath]); // Add next path to history\r\n      setForwardStack((prevForward) => prevForward.slice(1)); // Remove next path from forward stack\r\n      navigate(nextPath); // Navigate to the next path\r\n    }\r\n  };\r\n\r\n  const isAtOldestEntry = historyStack.length <= 1; // Check if it's the oldest entry\r\n  const isAtNewestEntry = forwardStack.length === 0; // Check if it's the newest entry\r\n\r\n \r\n\r\n \r\n\r\n \r\n\r\n\r\n  return (\r\n    <div className=\"sidebar\" >\r\n\r\n        <div className = {`sidebar-item`}>\r\n            <button className = 'history-button' onClick={goBack} disabled={isAtOldestEntry}> \r\n              <span className = 'button-text '>{'<'}</span>\r\n            </button>\r\n            <button className = 'history-button' onClick={goForward} disabled={isAtNewestEntry}>\r\n              <span className = 'button-text '>{'>'}</span>\r\n            </button>\r\n\r\n        </div>\r\n\r\n        \r\n\r\n       \r\n        \r\n      \r\n        <Link to = {'/'} style={linkStyles}>\r\n          <div className = {`sidebar-item ${isActiveLink('/') ? 'active-tab' : ''}`}>\r\n              <img className = 'sidebar-icon' src = {isActiveLink('/home') ? HomeIconActive : HomeIcon }/>\r\n              <h1 className = 'sidebar-text'>Home</h1>\r\n\r\n          </div>\r\n        </Link>\r\n        <Link to = {'/search'} style={linkStyles}>\r\n          <div className = {`sidebar-item ${isActiveLink('/search') ? 'active-tab' : ''}`}>\r\n              <img className = 'sidebar-icon' src = {isActiveLink('/search') ? SearchIconActive : SearchIcon }/>\r\n              <h1 className = 'sidebar-text'>Search</h1>\r\n\r\n          </div>\r\n        </Link>\r\n\r\n        {userData ? ( // Conditionally render user account or login link\r\n        <Link to={`/user/${userData._id}`} style={linkStyles}>\r\n          <div className={`sidebar-item ${isActiveLink('/profile') ? 'active-tab' : ''}`}>\r\n            <img className='sidebar-icon' src={isActiveLink('/profile') ? ProfileIconActive : ProfileIcon} />\r\n            <h1 className='sidebar-text'>Account</h1>\r\n          </div>\r\n        </Link>\r\n        ) : (\r\n        <Link to={'/login'} style={linkStyles}>\r\n          <div className={`sidebar-item`}>\r\n            <img className='sidebar-icon' src={ProfileIcon} />\r\n            <h1 className='sidebar-text'>Login</h1>\r\n          </div>\r\n        </Link>\r\n      )}\r\n\r\n\r\n\r\n\r\n      </div>\r\n    \r\n      \r\n   \r\n  );\r\n};\r\n\r\nexport default Sidebar;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}