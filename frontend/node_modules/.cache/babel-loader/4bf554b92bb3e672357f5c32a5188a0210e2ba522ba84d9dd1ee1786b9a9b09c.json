{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{Link}from'react-router-dom';import'./review.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Review(){const[reviewBody,setReviewBody]=useState('');const[score,setScore]=useState('');const[userData,setUserData]=useState(null);useEffect(()=>{// Make an API call to fetch user data from the backend\naxios.get(\"http://localhost:3000/session\").then(response=>{// Handle successful response\nsetUserData(response.data);// Assuming the response contains user data\n}).catch(error=>{// Handle error\nconsole.error(\"Error fetching user data:\",error);});},[]);async function submitScore(e){e.preventDefault();try{await axios.post('http://localhost:3000/score',{score});}catch(error){console.error(error);}}async function submitReview(e){e.preventDefault();try{await axios.post('http://localhost:3000/review',{reviewBody});}catch(error){console.error(error);}}return/*#__PURE__*/_jsx(\"div\",{className:\"review-container mb-3\",children:/*#__PURE__*/_jsx(\"form\",{action:\"POST\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"review-inputs\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"review-item score\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"From \",/*#__PURE__*/_jsx(Link,{to:\"/user/\".concat(userData._id),children:userData.accountname}),\" \"]}),/*#__PURE__*/_jsx(\"textarea\",{id:\"review-score\",className:\"review-score\",maxLength:3,onChange:e=>{setScore(e.target.value);},placeholder:\"0-100\",rows:1,cols:5,wrap:\"soft\"}),/*#__PURE__*/_jsx(\"button\",{className:\"rate-button\",onClick:submitScore,children:\"RATE\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"review-item revbody\",children:[/*#__PURE__*/_jsx(\"textarea\",{id:\"review-body\",className:\"review-body\",maxLength:5000,onChange:e=>{setReviewBody(e.target.value);},placeholder:\"Write your review (optional)\",cols:100,wrap:\"soft\"}),/*#__PURE__*/_jsx(\"button\",{className:\"rate-button review-button\",onClick:submitReview,children:\"SUBMIT REVIEW\"})]})]})})});}export default Review;","map":{"version":3,"names":["React","useState","axios","Link","jsx","_jsx","jsxs","_jsxs","Review","reviewBody","setReviewBody","score","setScore","userData","setUserData","useEffect","get","then","response","data","catch","error","console","submitScore","e","preventDefault","post","submitReview","className","children","action","to","concat","_id","accountname","id","maxLength","onChange","target","value","placeholder","rows","cols","wrap","onClick"],"sources":["C:/Users/luker/SeniorProject/senior-music-project/frontend/src/Components/home-page/review.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom'; \r\n\r\nimport './review.css';\r\n\r\n\r\nfunction Review() {\r\n  const [reviewBody, setReviewBody] = useState('');\r\n  const [score, setScore] = useState('');\r\n  const [userData, setUserData] = useState(null);\r\n\r\n\r\n  useEffect(() => {\r\n    // Make an API call to fetch user data from the backend\r\n    axios.get(\"http://localhost:3000/session\")\r\n      .then(response => {\r\n        // Handle successful response\r\n        setUserData(response.data); // Assuming the response contains user data\r\n      })\r\n      .catch(error => {\r\n        // Handle error\r\n        console.error(\"Error fetching user data:\", error);\r\n    });\r\n    }, []);\r\n\r\n  async function submitScore(e) {\r\n    e.preventDefault();\r\n    try {\r\n      await axios.post('http://localhost:3000/score', {\r\n        score,\r\n      });\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }\r\n\r\n  async function submitReview(e) {\r\n    e.preventDefault();\r\n    try {\r\n      await axios.post('http://localhost:3000/review', {\r\n        reviewBody,\r\n      });\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"review-container mb-3\">\r\n      <form action=\"POST\">\r\n        <div className=\"review-inputs\">\r\n          <div className=\"review-item score\">\r\n            <p>From <Link to = {`/user/${userData._id}`}>{userData.accountname}</Link> </p>\r\n            <textarea\r\n              id=\"review-score\"\r\n              className=\"review-score\"\r\n              maxLength={3}\r\n              onChange={(e) => {\r\n                setScore(e.target.value);\r\n              }}\r\n              placeholder=\"0-100\"\r\n              rows={1}\r\n              cols={5}\r\n              wrap=\"soft\"\r\n            />\r\n            <button className = 'rate-button' onClick={submitScore}>RATE</button>\r\n          </div>\r\n          <div className=\"review-item revbody\">\r\n            <textarea\r\n              id=\"review-body\"\r\n              className=\"review-body\"\r\n              maxLength={5000}\r\n              onChange={(e) => {\r\n                setReviewBody(e.target.value);\r\n              }}\r\n              placeholder=\"Write your review (optional)\"\r\n              cols={100}\r\n              wrap=\"soft\"\r\n            />\r\n            <button className = 'rate-button review-button' onClick={submitReview}>SUBMIT REVIEW</button>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Review;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}