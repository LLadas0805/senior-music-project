{"ast":null,"code":"\"use strict\";\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __exportStar = this && this.__exportStar || function (m, exports) {\n  for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cosmiconfigSync = exports.cosmiconfig = exports.defaultLoadersSync = exports.defaultLoaders = exports.metaSearchPlaces = void 0;\n/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\n__exportStar(require(\"./types.js\"), exports);\nconst os_1 = __importDefault(require(\"os\"));\nconst Explorer_js_1 = require(\"./Explorer.js\");\nconst ExplorerSync_js_1 = require(\"./ExplorerSync.js\");\nconst loaders_js_1 = require(\"./loaders.js\");\nconst util_1 = require(\"./util\");\n// this needs to be hardcoded, as this is intended for end users, who can't supply options at this point\nexports.metaSearchPlaces = ['package.json', '.config.json', '.config.yaml', '.config.yml', '.config.js', '.config.ts', '.config.cjs', '.config.mjs'];\n// do not allow mutation of default loaders. Make sure it is set inside options\nexports.defaultLoaders = Object.freeze({\n  '.mjs': loaders_js_1.loadJs,\n  '.cjs': loaders_js_1.loadJs,\n  '.js': loaders_js_1.loadJs,\n  '.ts': loaders_js_1.loadTs,\n  '.json': loaders_js_1.loadJson,\n  '.yaml': loaders_js_1.loadYaml,\n  '.yml': loaders_js_1.loadYaml,\n  noExt: loaders_js_1.loadYaml\n});\nexports.defaultLoadersSync = Object.freeze({\n  '.cjs': loaders_js_1.loadJsSync,\n  '.js': loaders_js_1.loadJsSync,\n  '.ts': loaders_js_1.loadTsSync,\n  '.json': loaders_js_1.loadJson,\n  '.yaml': loaders_js_1.loadYaml,\n  '.yml': loaders_js_1.loadYaml,\n  noExt: loaders_js_1.loadYaml\n});\nconst identity = function identity(x) {\n  return x;\n};\nfunction getInternalOptions(moduleName, options) {\n  var _metaConfig$config, _metaConfig$config2;\n  const metaExplorer = new ExplorerSync_js_1.ExplorerSync({\n    packageProp: 'cosmiconfig',\n    stopDir: process.cwd(),\n    searchPlaces: exports.metaSearchPlaces,\n    ignoreEmptySearchPlaces: false,\n    applyPackagePropertyPathToConfiguration: true,\n    loaders: exports.defaultLoaders,\n    transform: identity,\n    cache: true,\n    metaConfigFilePath: null\n  });\n  const metaConfig = metaExplorer.search();\n  if (!metaConfig) {\n    return options;\n  }\n  if ((_metaConfig$config = metaConfig.config) !== null && _metaConfig$config !== void 0 && _metaConfig$config.loaders) {\n    throw new Error('Can not specify loaders in meta config file');\n  }\n  const overrideOptions = (_metaConfig$config2 = metaConfig.config) !== null && _metaConfig$config2 !== void 0 ? _metaConfig$config2 : {};\n  if (overrideOptions.searchPlaces) {\n    overrideOptions.searchPlaces = overrideOptions.searchPlaces.map(path => path.replace('{name}', moduleName));\n  }\n  overrideOptions.metaConfigFilePath = metaConfig.filepath;\n  return {\n    ...options,\n    ...(0, util_1.removeUndefinedValuesFromObject)(overrideOptions)\n  };\n}\nfunction normalizeOptions(moduleName, options) {\n  const defaults = {\n    packageProp: moduleName,\n    searchPlaces: ['package.json', \".\".concat(moduleName, \"rc\"), \".\".concat(moduleName, \"rc.json\"), \".\".concat(moduleName, \"rc.yaml\"), \".\".concat(moduleName, \"rc.yml\"), \".\".concat(moduleName, \"rc.js\"), \".\".concat(moduleName, \"rc.ts\"), \".\".concat(moduleName, \"rc.cjs\"), \".\".concat(moduleName, \"rc.mjs\"), \".config/\".concat(moduleName, \"rc\"), \".config/\".concat(moduleName, \"rc.json\"), \".config/\".concat(moduleName, \"rc.yaml\"), \".config/\".concat(moduleName, \"rc.yml\"), \".config/\".concat(moduleName, \"rc.js\"), \".config/\".concat(moduleName, \"rc.ts\"), \".config/\".concat(moduleName, \"rc.cjs\"), \".config/\".concat(moduleName, \"rc.mjs\"), \"\".concat(moduleName, \".config.js\"), \"\".concat(moduleName, \".config.ts\"), \"\".concat(moduleName, \".config.cjs\"), \"\".concat(moduleName, \".config.mjs\")],\n    ignoreEmptySearchPlaces: true,\n    stopDir: os_1.default.homedir(),\n    cache: true,\n    transform: identity,\n    loaders: exports.defaultLoaders,\n    metaConfigFilePath: null\n  };\n  return {\n    ...defaults,\n    ...(0, util_1.removeUndefinedValuesFromObject)(options),\n    loaders: {\n      ...defaults.loaders,\n      ...options.loaders\n    }\n  };\n}\nfunction normalizeOptionsSync(moduleName, options) {\n  const defaults = {\n    packageProp: moduleName,\n    searchPlaces: ['package.json', \".\".concat(moduleName, \"rc\"), \".\".concat(moduleName, \"rc.json\"), \".\".concat(moduleName, \"rc.yaml\"), \".\".concat(moduleName, \"rc.yml\"), \".\".concat(moduleName, \"rc.js\"), \".\".concat(moduleName, \"rc.ts\"), \".\".concat(moduleName, \"rc.cjs\"), \".config/\".concat(moduleName, \"rc\"), \".config/\".concat(moduleName, \"rc.json\"), \".config/\".concat(moduleName, \"rc.yaml\"), \".config/\".concat(moduleName, \"rc.yml\"), \".config/\".concat(moduleName, \"rc.js\"), \".config/\".concat(moduleName, \"rc.ts\"), \".config/\".concat(moduleName, \"rc.cjs\"), \"\".concat(moduleName, \".config.js\"), \"\".concat(moduleName, \".config.ts\"), \"\".concat(moduleName, \".config.cjs\")],\n    ignoreEmptySearchPlaces: true,\n    stopDir: os_1.default.homedir(),\n    cache: true,\n    transform: identity,\n    loaders: exports.defaultLoadersSync,\n    metaConfigFilePath: null\n  };\n  return {\n    ...defaults,\n    ...(0, util_1.removeUndefinedValuesFromObject)(options),\n    loaders: {\n      ...defaults.loaders,\n      ...options.loaders\n    }\n  };\n}\nfunction cosmiconfig(moduleName) {\n  let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const internalOptions = getInternalOptions(moduleName, options);\n  const normalizedOptions = normalizeOptions(moduleName, internalOptions);\n  const explorer = new Explorer_js_1.Explorer(normalizedOptions);\n  return {\n    search: explorer.search.bind(explorer),\n    load: explorer.load.bind(explorer),\n    clearLoadCache: explorer.clearLoadCache.bind(explorer),\n    clearSearchCache: explorer.clearSearchCache.bind(explorer),\n    clearCaches: explorer.clearCaches.bind(explorer)\n  };\n}\nexports.cosmiconfig = cosmiconfig;\nfunction cosmiconfigSync(moduleName) {\n  let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const internalOptions = getInternalOptions(moduleName, options);\n  const normalizedOptions = normalizeOptionsSync(moduleName, internalOptions);\n  const explorerSync = new ExplorerSync_js_1.ExplorerSync(normalizedOptions);\n  return {\n    search: explorerSync.search.bind(explorerSync),\n    load: explorerSync.load.bind(explorerSync),\n    clearLoadCache: explorerSync.clearLoadCache.bind(explorerSync),\n    clearSearchCache: explorerSync.clearSearchCache.bind(explorerSync),\n    clearCaches: explorerSync.clearCaches.bind(explorerSync)\n  };\n}\nexports.cosmiconfigSync = cosmiconfigSync;","map":{"version":3,"names":["__exportStar","require","exports","os_1","__importDefault","Explorer_js_1","ExplorerSync_js_1","loaders_js_1","util_1","metaSearchPlaces","defaultLoaders","Object","freeze","loadJs","loadTs","loadJson","loadYaml","noExt","defaultLoadersSync","loadJsSync","loadTsSync","identity","x","getInternalOptions","moduleName","options","_metaConfig$config","_metaConfig$config2","metaExplorer","ExplorerSync","packageProp","stopDir","process","cwd","searchPlaces","ignoreEmptySearchPlaces","applyPackagePropertyPathToConfiguration","loaders","transform","cache","metaConfigFilePath","metaConfig","search","config","Error","overrideOptions","map","path","replace","filepath","removeUndefinedValuesFromObject","normalizeOptions","defaults","concat","default","homedir","normalizeOptionsSync","cosmiconfig","arguments","length","undefined","internalOptions","normalizedOptions","explorer","Explorer","bind","load","clearLoadCache","clearSearchCache","clearCaches","cosmiconfigSync","explorerSync"],"sources":["../src/index.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}