{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar color_1 = require(\"../color\");\nvar util_1 = require(\"../util\");\nvar defaults = require(\"lodash/defaults\");\nvar DefaultOpts = {\n  targetDarkLuma: 0.26,\n  maxDarkLuma: 0.45,\n  minLightLuma: 0.55,\n  targetLightLuma: 0.74,\n  minNormalLuma: 0.3,\n  targetNormalLuma: 0.5,\n  maxNormalLuma: 0.7,\n  targetMutesSaturation: 0.3,\n  maxMutesSaturation: 0.4,\n  targetVibrantSaturation: 1.0,\n  minVibrantSaturation: 0.35,\n  weightSaturation: 3,\n  weightLuma: 6.5,\n  weightPopulation: 0.5\n};\nfunction _findMaxPopulation(swatches) {\n  var p = 0;\n  swatches.forEach(function (s) {\n    p = Math.max(p, s.getPopulation());\n  });\n  return p;\n}\nfunction _isAlreadySelected(palette, s) {\n  return palette.Vibrant === s || palette.DarkVibrant === s || palette.LightVibrant === s || palette.Muted === s || palette.DarkMuted === s || palette.LightMuted === s;\n}\nfunction _createComparisonValue(saturation, targetSaturation, luma, targetLuma, population, maxPopulation, opts) {\n  function weightedMean() {\n    var values = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n      values[_i] = arguments[_i];\n    }\n    var sum = 0;\n    var weightSum = 0;\n    for (var i = 0; i < values.length; i += 2) {\n      var value = values[i];\n      var weight = values[i + 1];\n      sum += value * weight;\n      weightSum += weight;\n    }\n    return sum / weightSum;\n  }\n  function invertDiff(value, targetValue) {\n    return 1 - Math.abs(value - targetValue);\n  }\n  return weightedMean(invertDiff(saturation, targetSaturation), opts.weightSaturation, invertDiff(luma, targetLuma), opts.weightLuma, population / maxPopulation, opts.weightPopulation);\n}\nfunction _findColorVariation(palette, swatches, maxPopulation, targetLuma, minLuma, maxLuma, targetSaturation, minSaturation, maxSaturation, opts) {\n  var max = null;\n  var maxValue = 0;\n  swatches.forEach(function (swatch) {\n    var _a = swatch.getHsl(),\n      s = _a[1],\n      l = _a[2];\n    if (s >= minSaturation && s <= maxSaturation && l >= minLuma && l <= maxLuma && !_isAlreadySelected(palette, swatch)) {\n      var value = _createComparisonValue(s, targetSaturation, l, targetLuma, swatch.getPopulation(), maxPopulation, opts);\n      if (max === null || value > maxValue) {\n        max = swatch;\n        maxValue = value;\n      }\n    }\n  });\n  return max;\n}\nfunction _generateVariationColors(swatches, maxPopulation, opts) {\n  var palette = {};\n  // mVibrantSwatch = findColor(TARGET_NORMAL_LUMA, MIN_NORMAL_LUMA, MAX_NORMAL_LUMA,\n  //     TARGET_VIBRANT_SATURATION, MIN_VIBRANT_SATURATION, 1f);\n  palette.Vibrant = _findColorVariation(palette, swatches, maxPopulation, opts.targetNormalLuma, opts.minNormalLuma, opts.maxNormalLuma, opts.targetVibrantSaturation, opts.minVibrantSaturation, 1, opts);\n  // mLightVibrantSwatch = findColor(TARGET_LIGHT_LUMA, MIN_LIGHT_LUMA, 1f,\n  //     TARGET_VIBRANT_SATURATION, MIN_VIBRANT_SATURATION, 1f);\n  palette.LightVibrant = _findColorVariation(palette, swatches, maxPopulation, opts.targetLightLuma, opts.minLightLuma, 1, opts.targetVibrantSaturation, opts.minVibrantSaturation, 1, opts);\n  // mDarkVibrantSwatch = findColor(TARGET_DARK_LUMA, 0f, MAX_DARK_LUMA,\n  //     TARGET_VIBRANT_SATURATION, MIN_VIBRANT_SATURATION, 1f);\n  palette.DarkVibrant = _findColorVariation(palette, swatches, maxPopulation, opts.targetDarkLuma, 0, opts.maxDarkLuma, opts.targetVibrantSaturation, opts.minVibrantSaturation, 1, opts);\n  // mMutedSwatch = findColor(TARGET_NORMAL_LUMA, MIN_NORMAL_LUMA, MAX_NORMAL_LUMA,\n  //     TARGET_MUTED_SATURATION, 0f, MAX_MUTED_SATURATION);\n  palette.Muted = _findColorVariation(palette, swatches, maxPopulation, opts.targetNormalLuma, opts.minNormalLuma, opts.maxNormalLuma, opts.targetMutesSaturation, 0, opts.maxMutesSaturation, opts);\n  // mLightMutedColor = findColor(TARGET_LIGHT_LUMA, MIN_LIGHT_LUMA, 1f,\n  //     TARGET_MUTED_SATURATION, 0f, MAX_MUTED_SATURATION);\n  palette.LightMuted = _findColorVariation(palette, swatches, maxPopulation, opts.targetLightLuma, opts.minLightLuma, 1, opts.targetMutesSaturation, 0, opts.maxMutesSaturation, opts);\n  // mDarkMutedSwatch = findColor(TARGET_DARK_LUMA, 0f, MAX_DARK_LUMA,\n  //     TARGET_MUTED_SATURATION, 0f, MAX_MUTED_SATURATION);\n  palette.DarkMuted = _findColorVariation(palette, swatches, maxPopulation, opts.targetDarkLuma, 0, opts.maxDarkLuma, opts.targetMutesSaturation, 0, opts.maxMutesSaturation, opts);\n  return palette;\n}\nfunction _generateEmptySwatches(palette, maxPopulation, opts) {\n  if (palette.Vibrant === null && palette.DarkVibrant === null && palette.LightVibrant === null) {\n    if (palette.DarkVibrant === null && palette.DarkMuted !== null) {\n      var _a = palette.DarkMuted.getHsl(),\n        h = _a[0],\n        s = _a[1],\n        l = _a[2];\n      l = opts.targetDarkLuma;\n      palette.DarkVibrant = new color_1.Swatch(util_1.hslToRgb(h, s, l), 0);\n    }\n    if (palette.LightVibrant === null && palette.LightMuted !== null) {\n      var _b = palette.LightMuted.getHsl(),\n        h = _b[0],\n        s = _b[1],\n        l = _b[2];\n      l = opts.targetDarkLuma;\n      palette.DarkVibrant = new color_1.Swatch(util_1.hslToRgb(h, s, l), 0);\n    }\n  }\n  if (palette.Vibrant === null && palette.DarkVibrant !== null) {\n    var _c = palette.DarkVibrant.getHsl(),\n      h = _c[0],\n      s = _c[1],\n      l = _c[2];\n    l = opts.targetNormalLuma;\n    palette.Vibrant = new color_1.Swatch(util_1.hslToRgb(h, s, l), 0);\n  } else if (palette.Vibrant === null && palette.LightVibrant !== null) {\n    var _d = palette.LightVibrant.getHsl(),\n      h = _d[0],\n      s = _d[1],\n      l = _d[2];\n    l = opts.targetNormalLuma;\n    palette.Vibrant = new color_1.Swatch(util_1.hslToRgb(h, s, l), 0);\n  }\n  if (palette.DarkVibrant === null && palette.Vibrant !== null) {\n    var _e = palette.Vibrant.getHsl(),\n      h = _e[0],\n      s = _e[1],\n      l = _e[2];\n    l = opts.targetDarkLuma;\n    palette.DarkVibrant = new color_1.Swatch(util_1.hslToRgb(h, s, l), 0);\n  }\n  if (palette.LightVibrant === null && palette.Vibrant !== null) {\n    var _f = palette.Vibrant.getHsl(),\n      h = _f[0],\n      s = _f[1],\n      l = _f[2];\n    l = opts.targetLightLuma;\n    palette.LightVibrant = new color_1.Swatch(util_1.hslToRgb(h, s, l), 0);\n  }\n  if (palette.Muted === null && palette.Vibrant !== null) {\n    var _g = palette.Vibrant.getHsl(),\n      h = _g[0],\n      s = _g[1],\n      l = _g[2];\n    l = opts.targetMutesSaturation;\n    palette.Muted = new color_1.Swatch(util_1.hslToRgb(h, s, l), 0);\n  }\n  if (palette.DarkMuted === null && palette.DarkVibrant !== null) {\n    var _h = palette.DarkVibrant.getHsl(),\n      h = _h[0],\n      s = _h[1],\n      l = _h[2];\n    l = opts.targetMutesSaturation;\n    palette.DarkMuted = new color_1.Swatch(util_1.hslToRgb(h, s, l), 0);\n  }\n  if (palette.LightMuted === null && palette.LightVibrant !== null) {\n    var _j = palette.LightVibrant.getHsl(),\n      h = _j[0],\n      s = _j[1],\n      l = _j[2];\n    l = opts.targetMutesSaturation;\n    palette.LightMuted = new color_1.Swatch(util_1.hslToRgb(h, s, l), 0);\n  }\n}\nvar DefaultGenerator = function (swatches, opts) {\n  opts = defaults({}, opts, DefaultOpts);\n  var maxPopulation = _findMaxPopulation(swatches);\n  var palette = _generateVariationColors(swatches, maxPopulation, opts);\n  _generateEmptySwatches(palette, maxPopulation, opts);\n  return palette;\n};\nexports.default = DefaultGenerator;","map":{"version":3,"names":["color_1","require","util_1","defaults","DefaultOpts","targetDarkLuma","maxDarkLuma","minLightLuma","targetLightLuma","minNormalLuma","targetNormalLuma","maxNormalLuma","targetMutesSaturation","maxMutesSaturation","targetVibrantSaturation","minVibrantSaturation","weightSaturation","weightLuma","weightPopulation","_findMaxPopulation","swatches","p","forEach","s","Math","max","getPopulation","_isAlreadySelected","palette","Vibrant","DarkVibrant","LightVibrant","Muted","DarkMuted","LightMuted","_createComparisonValue","saturation","targetSaturation","luma","targetLuma","population","maxPopulation","opts","weightedMean","values","_i","arguments","length","sum","weightSum","i","value","weight","invertDiff","targetValue","abs","_findColorVariation","minLuma","maxLuma","minSaturation","maxSaturation","maxValue","swatch","_a","getHsl","l","_generateVariationColors","_generateEmptySwatches","h","Swatch","hslToRgb","_b","_c","_d","_e","_f","_g","_h","_j","DefaultGenerator","exports","default"],"sources":["C:\\Users\\luker\\SeniorProject\\senior-music-project\\frontend\\node_modules\\node-vibrant\\src\\generator\\default.ts"],"sourcesContent":["import { Swatch, Palette } from '../color'\nimport { Generator } from '../typing'\nimport { hslToRgb } from '../util'\nimport defaults = require('lodash/defaults')\n\ninterface DefaultGeneratorOptions {\n  targetDarkLuma: number,\n  maxDarkLuma: number,\n  minLightLuma: number,\n  targetLightLuma: number,\n  minNormalLuma: number,\n  targetNormalLuma: number,\n  maxNormalLuma: number,\n  targetMutesSaturation: number,\n  maxMutesSaturation: number,\n  targetVibrantSaturation: number,\n  minVibrantSaturation: number,\n  weightSaturation: number,\n  weightLuma: number,\n  weightPopulation: number\n}\n\nconst DefaultOpts: DefaultGeneratorOptions = {\n  targetDarkLuma: 0.26,\n  maxDarkLuma: 0.45,\n  minLightLuma: 0.55,\n  targetLightLuma: 0.74,\n  minNormalLuma: 0.3,\n  targetNormalLuma: 0.5,\n  maxNormalLuma: 0.7,\n  targetMutesSaturation: 0.3,\n  maxMutesSaturation: 0.4,\n  targetVibrantSaturation: 1.0,\n  minVibrantSaturation: 0.35,\n  weightSaturation: 3,\n  weightLuma: 6.5,\n  weightPopulation: 0.5\n}\n\nfunction _findMaxPopulation (swatches: Array<Swatch>): number {\n  let p = 0\n\n  swatches.forEach((s) => {\n    p = Math.max(p, s.getPopulation())\n  })\n\n  return p\n}\n\nfunction _isAlreadySelected (palette: Palette, s: Swatch): boolean {\n  return palette.Vibrant === s ||\n    palette.DarkVibrant === s ||\n    palette.LightVibrant === s ||\n    palette.Muted === s ||\n    palette.DarkMuted === s ||\n    palette.LightMuted === s\n}\n\nfunction _createComparisonValue (\n  saturation: number, targetSaturation: number,\n  luma: number, targetLuma: number,\n  population: number, maxPopulation: number, opts: DefaultGeneratorOptions): number {\n  function weightedMean (...values: number[]) {\n    let sum = 0\n    let weightSum = 0\n    for (let i = 0; i < values.length; i += 2) {\n      let value = values[i]\n      let weight = values[i + 1]\n      sum += value * weight\n      weightSum += weight\n    }\n\n    return sum / weightSum\n  }\n\n  function invertDiff (value: number, targetValue: number): number {\n    return 1 - Math.abs(value - targetValue)\n  }\n\n  return weightedMean(\n    invertDiff(saturation, targetSaturation), opts.weightSaturation,\n    invertDiff(luma, targetLuma), opts.weightLuma,\n    population / maxPopulation, opts.weightPopulation\n  )\n}\n\nfunction _findColorVariation (palette: Palette, swatches: Array<Swatch>, maxPopulation: number,\n  targetLuma: number,\n  minLuma: number,\n  maxLuma: number,\n  targetSaturation: number,\n  minSaturation: number,\n  maxSaturation: number,\n  opts: DefaultGeneratorOptions): Swatch {\n  let max: Swatch | null = null\n  let maxValue = 0\n\n  swatches.forEach((swatch) => {\n    let [, s, l] = swatch.getHsl()\n\n    if (s >= minSaturation && s <= maxSaturation &&\n      l >= minLuma && l <= maxLuma &&\n      !_isAlreadySelected(palette, swatch)\n    ) {\n      let value = _createComparisonValue(s, targetSaturation, l, targetLuma, swatch.getPopulation(), maxPopulation, opts)\n\n      if (max === null || value > maxValue) {\n        max = swatch\n        maxValue = value\n      }\n    }\n  })\n\n  return max!\n}\n\nfunction _generateVariationColors (swatches: Array<Swatch>, maxPopulation: number, opts: DefaultGeneratorOptions): Palette {\n  let palette: Palette = {}\n  // mVibrantSwatch = findColor(TARGET_NORMAL_LUMA, MIN_NORMAL_LUMA, MAX_NORMAL_LUMA,\n  //     TARGET_VIBRANT_SATURATION, MIN_VIBRANT_SATURATION, 1f);\n  palette.Vibrant = _findColorVariation(palette, swatches, maxPopulation,\n    opts.targetNormalLuma,\n    opts.minNormalLuma,\n    opts.maxNormalLuma,\n    opts.targetVibrantSaturation,\n    opts.minVibrantSaturation,\n    1,\n    opts\n  )\n  // mLightVibrantSwatch = findColor(TARGET_LIGHT_LUMA, MIN_LIGHT_LUMA, 1f,\n  //     TARGET_VIBRANT_SATURATION, MIN_VIBRANT_SATURATION, 1f);\n  palette.LightVibrant = _findColorVariation(palette, swatches, maxPopulation,\n    opts.targetLightLuma,\n    opts.minLightLuma,\n    1,\n    opts.targetVibrantSaturation,\n    opts.minVibrantSaturation,\n    1,\n    opts\n  )\n  // mDarkVibrantSwatch = findColor(TARGET_DARK_LUMA, 0f, MAX_DARK_LUMA,\n  //     TARGET_VIBRANT_SATURATION, MIN_VIBRANT_SATURATION, 1f);\n  palette.DarkVibrant = _findColorVariation(palette, swatches, maxPopulation,\n    opts.targetDarkLuma,\n    0,\n    opts.maxDarkLuma,\n    opts.targetVibrantSaturation,\n    opts.minVibrantSaturation,\n    1,\n    opts\n  )\n  // mMutedSwatch = findColor(TARGET_NORMAL_LUMA, MIN_NORMAL_LUMA, MAX_NORMAL_LUMA,\n  //     TARGET_MUTED_SATURATION, 0f, MAX_MUTED_SATURATION);\n  palette.Muted = _findColorVariation(palette, swatches, maxPopulation,\n    opts.targetNormalLuma,\n    opts.minNormalLuma,\n    opts.maxNormalLuma,\n    opts.targetMutesSaturation,\n    0,\n    opts.maxMutesSaturation,\n    opts\n  )\n  // mLightMutedColor = findColor(TARGET_LIGHT_LUMA, MIN_LIGHT_LUMA, 1f,\n  //     TARGET_MUTED_SATURATION, 0f, MAX_MUTED_SATURATION);\n  palette.LightMuted = _findColorVariation(palette, swatches, maxPopulation,\n    opts.targetLightLuma,\n    opts.minLightLuma,\n    1,\n    opts.targetMutesSaturation,\n    0,\n    opts.maxMutesSaturation,\n    opts\n  )\n  // mDarkMutedSwatch = findColor(TARGET_DARK_LUMA, 0f, MAX_DARK_LUMA,\n  //     TARGET_MUTED_SATURATION, 0f, MAX_MUTED_SATURATION);\n  palette.DarkMuted = _findColorVariation(palette, swatches, maxPopulation,\n    opts.targetDarkLuma,\n    0,\n    opts.maxDarkLuma,\n    opts.targetMutesSaturation,\n    0,\n    opts.maxMutesSaturation,\n    opts\n  )\n  return palette\n}\n\nfunction _generateEmptySwatches (palette: Palette, maxPopulation: number, opts: DefaultGeneratorOptions): void {\n  if (palette.Vibrant === null && palette.DarkVibrant === null && palette.LightVibrant === null) {\n    if (palette.DarkVibrant === null && palette.DarkMuted !== null) {\n      let [h, s, l] = palette.DarkMuted!.getHsl()\n      l = opts.targetDarkLuma\n      palette.DarkVibrant = new Swatch(hslToRgb(h, s, l), 0)\n    }\n    if (palette.LightVibrant === null && palette.LightMuted !== null) {\n      let [h, s, l] = palette.LightMuted!.getHsl()\n      l = opts.targetDarkLuma\n      palette.DarkVibrant = new Swatch(hslToRgb(h, s, l), 0)\n    }\n  }\n  if (palette.Vibrant === null && palette.DarkVibrant !== null) {\n    let [h, s, l] = palette.DarkVibrant!.getHsl()\n    l = opts.targetNormalLuma\n    palette.Vibrant = new Swatch(hslToRgb(h, s, l), 0)\n  } else if (palette.Vibrant === null && palette.LightVibrant !== null) {\n    let [h, s, l] = palette.LightVibrant!.getHsl()\n    l = opts.targetNormalLuma\n    palette.Vibrant = new Swatch(hslToRgb(h, s, l), 0)\n  }\n  if (palette.DarkVibrant === null && palette.Vibrant !== null) {\n    let [h, s, l] = palette.Vibrant!.getHsl()\n    l = opts.targetDarkLuma\n    palette.DarkVibrant = new Swatch(hslToRgb(h, s, l), 0)\n  }\n  if (palette.LightVibrant === null && palette.Vibrant !== null) {\n    let [h, s, l] = palette.Vibrant!.getHsl()\n    l = opts.targetLightLuma\n    palette.LightVibrant = new Swatch(hslToRgb(h, s, l), 0)\n  }\n  if (palette.Muted === null && palette.Vibrant !== null) {\n    let [h, s, l] = palette.Vibrant!.getHsl()\n    l = opts.targetMutesSaturation\n    palette.Muted = new Swatch(hslToRgb(h, s, l), 0)\n  }\n  if (palette.DarkMuted === null && palette.DarkVibrant !== null) {\n    let [h, s, l] = palette.DarkVibrant!.getHsl()\n    l = opts.targetMutesSaturation\n    palette.DarkMuted = new Swatch(hslToRgb(h, s, l), 0)\n  }\n  if (palette.LightMuted === null && palette.LightVibrant !== null) {\n    let [h, s, l] = palette.LightVibrant!.getHsl()\n    l = opts.targetMutesSaturation\n    palette.LightMuted = new Swatch(hslToRgb(h, s, l), 0)\n  }\n}\n\nconst DefaultGenerator: Generator = (swatches: Array<Swatch>, opts?: DefaultGeneratorOptions): Palette => {\n  opts = <DefaultGeneratorOptions>defaults({}, opts, DefaultOpts)\n  let maxPopulation = _findMaxPopulation(swatches)\n\n  let palette = _generateVariationColors(swatches, maxPopulation, opts)\n  _generateEmptySwatches(palette, maxPopulation, opts)\n\n  return palette\n}\n\nexport default DefaultGenerator\n"],"mappings":";;;;;AAAA,IAAAA,OAAA,GAAAC,OAAA;AAEA,IAAAC,MAAA,GAAAD,OAAA;AACA,IAAAE,QAAA,GAAAF,OAAA;AAmBA,IAAMG,WAAW,GAA4B;EAC3CC,cAAc,EAAE,IAAI;EACpBC,WAAW,EAAE,IAAI;EACjBC,YAAY,EAAE,IAAI;EAClBC,eAAe,EAAE,IAAI;EACrBC,aAAa,EAAE,GAAG;EAClBC,gBAAgB,EAAE,GAAG;EACrBC,aAAa,EAAE,GAAG;EAClBC,qBAAqB,EAAE,GAAG;EAC1BC,kBAAkB,EAAE,GAAG;EACvBC,uBAAuB,EAAE,GAAG;EAC5BC,oBAAoB,EAAE,IAAI;EAC1BC,gBAAgB,EAAE,CAAC;EACnBC,UAAU,EAAE,GAAG;EACfC,gBAAgB,EAAE;CACnB;AAED,SAASC,kBAAkBA,CAAEC,QAAuB;EAClD,IAAIC,CAAC,GAAG,CAAC;EAETD,QAAQ,CAACE,OAAO,CAAC,UAACC,CAAC;IACjBF,CAAC,GAAGG,IAAI,CAACC,GAAG,CAACJ,CAAC,EAAEE,CAAC,CAACG,aAAa,EAAE,CAAC;EACpC,CAAC,CAAC;EAEF,OAAOL,CAAC;AACV;AAEA,SAASM,kBAAkBA,CAAEC,OAAgB,EAAEL,CAAS;EACtD,OAAOK,OAAO,CAACC,OAAO,KAAKN,CAAC,IAC1BK,OAAO,CAACE,WAAW,KAAKP,CAAC,IACzBK,OAAO,CAACG,YAAY,KAAKR,CAAC,IAC1BK,OAAO,CAACI,KAAK,KAAKT,CAAC,IACnBK,OAAO,CAACK,SAAS,KAAKV,CAAC,IACvBK,OAAO,CAACM,UAAU,KAAKX,CAAC;AAC5B;AAEA,SAASY,sBAAsBA,CAC7BC,UAAkB,EAAEC,gBAAwB,EAC5CC,IAAY,EAAEC,UAAkB,EAChCC,UAAkB,EAAEC,aAAqB,EAAEC,IAA6B;EACxE,SAASC,YAAYA,CAAA;IAAE,IAAAC,MAAA;SAAA,IAAAC,EAAA,IAAmB,EAAnBA,EAAA,GAAAC,SAAA,CAAAC,MAAmB,EAAnBF,EAAA,EAAmB;MAAnBD,MAAA,CAAAC,EAAA,IAAAC,SAAA,CAAAD,EAAA;;IACrB,IAAIG,GAAG,GAAG,CAAC;IACX,IAAIC,SAAS,GAAG,CAAC;IACjB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGN,MAAM,CAACG,MAAM,EAAEG,CAAC,IAAI,CAAC,EAAE;MACzC,IAAIC,KAAK,GAAGP,MAAM,CAACM,CAAC,CAAC;MACrB,IAAIE,MAAM,GAAGR,MAAM,CAACM,CAAC,GAAG,CAAC,CAAC;MAC1BF,GAAG,IAAIG,KAAK,GAAGC,MAAM;MACrBH,SAAS,IAAIG,MAAM;;IAGrB,OAAOJ,GAAG,GAAGC,SAAS;EACxB;EAEA,SAASI,UAAUA,CAAEF,KAAa,EAAEG,WAAmB;IACrD,OAAO,CAAC,GAAG9B,IAAI,CAAC+B,GAAG,CAACJ,KAAK,GAAGG,WAAW,CAAC;EAC1C;EAEA,OAAOX,YAAY,CACjBU,UAAU,CAACjB,UAAU,EAAEC,gBAAgB,CAAC,EAAEK,IAAI,CAAC1B,gBAAgB,EAC/DqC,UAAU,CAACf,IAAI,EAAEC,UAAU,CAAC,EAAEG,IAAI,CAACzB,UAAU,EAC7CuB,UAAU,GAAGC,aAAa,EAAEC,IAAI,CAACxB,gBAAgB,CAClD;AACH;AAEA,SAASsC,mBAAmBA,CAAE5B,OAAgB,EAAER,QAAuB,EAAEqB,aAAqB,EAC5FF,UAAkB,EAClBkB,OAAe,EACfC,OAAe,EACfrB,gBAAwB,EACxBsB,aAAqB,EACrBC,aAAqB,EACrBlB,IAA6B;EAC7B,IAAIjB,GAAG,GAAkB,IAAI;EAC7B,IAAIoC,QAAQ,GAAG,CAAC;EAEhBzC,QAAQ,CAACE,OAAO,CAAC,UAACwC,MAAM;IAClB,IAAAC,EAAA,GAAWD,MAAM,CAACE,MAAM,EAAE;MAAvBzC,CAAC,GAAAwC,EAAA;MAAEE,CAAC,GAAAF,EAAA,GAAmB;IAE9B,IAAIxC,CAAC,IAAIoC,aAAa,IAAIpC,CAAC,IAAIqC,aAAa,IAC1CK,CAAC,IAAIR,OAAO,IAAIQ,CAAC,IAAIP,OAAO,IAC5B,CAAC/B,kBAAkB,CAACC,OAAO,EAAEkC,MAAM,CAAC,EACpC;MACA,IAAIX,KAAK,GAAGhB,sBAAsB,CAACZ,CAAC,EAAEc,gBAAgB,EAAE4B,CAAC,EAAE1B,UAAU,EAAEuB,MAAM,CAACpC,aAAa,EAAE,EAAEe,aAAa,EAAEC,IAAI,CAAC;MAEnH,IAAIjB,GAAG,KAAK,IAAI,IAAI0B,KAAK,GAAGU,QAAQ,EAAE;QACpCpC,GAAG,GAAGqC,MAAM;QACZD,QAAQ,GAAGV,KAAK;;;EAGtB,CAAC,CAAC;EAEF,OAAO1B,GAAI;AACb;AAEA,SAASyC,wBAAwBA,CAAE9C,QAAuB,EAAEqB,aAAqB,EAAEC,IAA6B;EAC9G,IAAId,OAAO,GAAY,EAAE;EACzB;EACA;EACAA,OAAO,CAACC,OAAO,GAAG2B,mBAAmB,CAAC5B,OAAO,EAAER,QAAQ,EAAEqB,aAAa,EACpEC,IAAI,CAAChC,gBAAgB,EACrBgC,IAAI,CAACjC,aAAa,EAClBiC,IAAI,CAAC/B,aAAa,EAClB+B,IAAI,CAAC5B,uBAAuB,EAC5B4B,IAAI,CAAC3B,oBAAoB,EACzB,CAAC,EACD2B,IAAI,CACL;EACD;EACA;EACAd,OAAO,CAACG,YAAY,GAAGyB,mBAAmB,CAAC5B,OAAO,EAAER,QAAQ,EAAEqB,aAAa,EACzEC,IAAI,CAAClC,eAAe,EACpBkC,IAAI,CAACnC,YAAY,EACjB,CAAC,EACDmC,IAAI,CAAC5B,uBAAuB,EAC5B4B,IAAI,CAAC3B,oBAAoB,EACzB,CAAC,EACD2B,IAAI,CACL;EACD;EACA;EACAd,OAAO,CAACE,WAAW,GAAG0B,mBAAmB,CAAC5B,OAAO,EAAER,QAAQ,EAAEqB,aAAa,EACxEC,IAAI,CAACrC,cAAc,EACnB,CAAC,EACDqC,IAAI,CAACpC,WAAW,EAChBoC,IAAI,CAAC5B,uBAAuB,EAC5B4B,IAAI,CAAC3B,oBAAoB,EACzB,CAAC,EACD2B,IAAI,CACL;EACD;EACA;EACAd,OAAO,CAACI,KAAK,GAAGwB,mBAAmB,CAAC5B,OAAO,EAAER,QAAQ,EAAEqB,aAAa,EAClEC,IAAI,CAAChC,gBAAgB,EACrBgC,IAAI,CAACjC,aAAa,EAClBiC,IAAI,CAAC/B,aAAa,EAClB+B,IAAI,CAAC9B,qBAAqB,EAC1B,CAAC,EACD8B,IAAI,CAAC7B,kBAAkB,EACvB6B,IAAI,CACL;EACD;EACA;EACAd,OAAO,CAACM,UAAU,GAAGsB,mBAAmB,CAAC5B,OAAO,EAAER,QAAQ,EAAEqB,aAAa,EACvEC,IAAI,CAAClC,eAAe,EACpBkC,IAAI,CAACnC,YAAY,EACjB,CAAC,EACDmC,IAAI,CAAC9B,qBAAqB,EAC1B,CAAC,EACD8B,IAAI,CAAC7B,kBAAkB,EACvB6B,IAAI,CACL;EACD;EACA;EACAd,OAAO,CAACK,SAAS,GAAGuB,mBAAmB,CAAC5B,OAAO,EAAER,QAAQ,EAAEqB,aAAa,EACtEC,IAAI,CAACrC,cAAc,EACnB,CAAC,EACDqC,IAAI,CAACpC,WAAW,EAChBoC,IAAI,CAAC9B,qBAAqB,EAC1B,CAAC,EACD8B,IAAI,CAAC7B,kBAAkB,EACvB6B,IAAI,CACL;EACD,OAAOd,OAAO;AAChB;AAEA,SAASuC,sBAAsBA,CAAEvC,OAAgB,EAAEa,aAAqB,EAAEC,IAA6B;EACrG,IAAId,OAAO,CAACC,OAAO,KAAK,IAAI,IAAID,OAAO,CAACE,WAAW,KAAK,IAAI,IAAIF,OAAO,CAACG,YAAY,KAAK,IAAI,EAAE;IAC7F,IAAIH,OAAO,CAACE,WAAW,KAAK,IAAI,IAAIF,OAAO,CAACK,SAAS,KAAK,IAAI,EAAE;MAC1D,IAAA8B,EAAA,GAAYnC,OAAO,CAACK,SAAU,CAAC+B,MAAM,EAAE;QAAtCI,CAAC,GAAAL,EAAA;QAAExC,CAAC,GAAAwC,EAAA;QAAEE,CAAC,GAAAF,EAAA,GAA+B;MAC3CE,CAAC,GAAGvB,IAAI,CAACrC,cAAc;MACvBuB,OAAO,CAACE,WAAW,GAAG,IAAI9B,OAAA,CAAAqE,MAAM,CAACnE,MAAA,CAAAoE,QAAQ,CAACF,CAAC,EAAE7C,CAAC,EAAE0C,CAAC,CAAC,EAAE,CAAC,CAAC;;IAExD,IAAIrC,OAAO,CAACG,YAAY,KAAK,IAAI,IAAIH,OAAO,CAACM,UAAU,KAAK,IAAI,EAAE;MAC5D,IAAAqC,EAAA,GAAY3C,OAAO,CAACM,UAAW,CAAC8B,MAAM,EAAE;QAAvCI,CAAC,GAAAG,EAAA;QAAEhD,CAAC,GAAAgD,EAAA;QAAEN,CAAC,GAAAM,EAAA,GAAgC;MAC5CN,CAAC,GAAGvB,IAAI,CAACrC,cAAc;MACvBuB,OAAO,CAACE,WAAW,GAAG,IAAI9B,OAAA,CAAAqE,MAAM,CAACnE,MAAA,CAAAoE,QAAQ,CAACF,CAAC,EAAE7C,CAAC,EAAE0C,CAAC,CAAC,EAAE,CAAC,CAAC;;;EAG1D,IAAIrC,OAAO,CAACC,OAAO,KAAK,IAAI,IAAID,OAAO,CAACE,WAAW,KAAK,IAAI,EAAE;IACxD,IAAA0C,EAAA,GAAY5C,OAAO,CAACE,WAAY,CAACkC,MAAM,EAAE;MAAxCI,CAAC,GAAAI,EAAA;MAAEjD,CAAC,GAAAiD,EAAA;MAAEP,CAAC,GAAAO,EAAA,GAAiC;IAC7CP,CAAC,GAAGvB,IAAI,CAAChC,gBAAgB;IACzBkB,OAAO,CAACC,OAAO,GAAG,IAAI7B,OAAA,CAAAqE,MAAM,CAACnE,MAAA,CAAAoE,QAAQ,CAACF,CAAC,EAAE7C,CAAC,EAAE0C,CAAC,CAAC,EAAE,CAAC,CAAC;GACnD,MAAM,IAAIrC,OAAO,CAACC,OAAO,KAAK,IAAI,IAAID,OAAO,CAACG,YAAY,KAAK,IAAI,EAAE;IAChE,IAAA0C,EAAA,GAAY7C,OAAO,CAACG,YAAa,CAACiC,MAAM,EAAE;MAAzCI,CAAC,GAAAK,EAAA;MAAElD,CAAC,GAAAkD,EAAA;MAAER,CAAC,GAAAQ,EAAA,GAAkC;IAC9CR,CAAC,GAAGvB,IAAI,CAAChC,gBAAgB;IACzBkB,OAAO,CAACC,OAAO,GAAG,IAAI7B,OAAA,CAAAqE,MAAM,CAACnE,MAAA,CAAAoE,QAAQ,CAACF,CAAC,EAAE7C,CAAC,EAAE0C,CAAC,CAAC,EAAE,CAAC,CAAC;;EAEpD,IAAIrC,OAAO,CAACE,WAAW,KAAK,IAAI,IAAIF,OAAO,CAACC,OAAO,KAAK,IAAI,EAAE;IACxD,IAAA6C,EAAA,GAAY9C,OAAO,CAACC,OAAQ,CAACmC,MAAM,EAAE;MAApCI,CAAC,GAAAM,EAAA;MAAEnD,CAAC,GAAAmD,EAAA;MAAET,CAAC,GAAAS,EAAA,GAA6B;IACzCT,CAAC,GAAGvB,IAAI,CAACrC,cAAc;IACvBuB,OAAO,CAACE,WAAW,GAAG,IAAI9B,OAAA,CAAAqE,MAAM,CAACnE,MAAA,CAAAoE,QAAQ,CAACF,CAAC,EAAE7C,CAAC,EAAE0C,CAAC,CAAC,EAAE,CAAC,CAAC;;EAExD,IAAIrC,OAAO,CAACG,YAAY,KAAK,IAAI,IAAIH,OAAO,CAACC,OAAO,KAAK,IAAI,EAAE;IACzD,IAAA8C,EAAA,GAAY/C,OAAO,CAACC,OAAQ,CAACmC,MAAM,EAAE;MAApCI,CAAC,GAAAO,EAAA;MAAEpD,CAAC,GAAAoD,EAAA;MAAEV,CAAC,GAAAU,EAAA,GAA6B;IACzCV,CAAC,GAAGvB,IAAI,CAAClC,eAAe;IACxBoB,OAAO,CAACG,YAAY,GAAG,IAAI/B,OAAA,CAAAqE,MAAM,CAACnE,MAAA,CAAAoE,QAAQ,CAACF,CAAC,EAAE7C,CAAC,EAAE0C,CAAC,CAAC,EAAE,CAAC,CAAC;;EAEzD,IAAIrC,OAAO,CAACI,KAAK,KAAK,IAAI,IAAIJ,OAAO,CAACC,OAAO,KAAK,IAAI,EAAE;IAClD,IAAA+C,EAAA,GAAYhD,OAAO,CAACC,OAAQ,CAACmC,MAAM,EAAE;MAApCI,CAAC,GAAAQ,EAAA;MAAErD,CAAC,GAAAqD,EAAA;MAAEX,CAAC,GAAAW,EAAA,GAA6B;IACzCX,CAAC,GAAGvB,IAAI,CAAC9B,qBAAqB;IAC9BgB,OAAO,CAACI,KAAK,GAAG,IAAIhC,OAAA,CAAAqE,MAAM,CAACnE,MAAA,CAAAoE,QAAQ,CAACF,CAAC,EAAE7C,CAAC,EAAE0C,CAAC,CAAC,EAAE,CAAC,CAAC;;EAElD,IAAIrC,OAAO,CAACK,SAAS,KAAK,IAAI,IAAIL,OAAO,CAACE,WAAW,KAAK,IAAI,EAAE;IAC1D,IAAA+C,EAAA,GAAYjD,OAAO,CAACE,WAAY,CAACkC,MAAM,EAAE;MAAxCI,CAAC,GAAAS,EAAA;MAAEtD,CAAC,GAAAsD,EAAA;MAAEZ,CAAC,GAAAY,EAAA,GAAiC;IAC7CZ,CAAC,GAAGvB,IAAI,CAAC9B,qBAAqB;IAC9BgB,OAAO,CAACK,SAAS,GAAG,IAAIjC,OAAA,CAAAqE,MAAM,CAACnE,MAAA,CAAAoE,QAAQ,CAACF,CAAC,EAAE7C,CAAC,EAAE0C,CAAC,CAAC,EAAE,CAAC,CAAC;;EAEtD,IAAIrC,OAAO,CAACM,UAAU,KAAK,IAAI,IAAIN,OAAO,CAACG,YAAY,KAAK,IAAI,EAAE;IAC5D,IAAA+C,EAAA,GAAYlD,OAAO,CAACG,YAAa,CAACiC,MAAM,EAAE;MAAzCI,CAAC,GAAAU,EAAA;MAAEvD,CAAC,GAAAuD,EAAA;MAAEb,CAAC,GAAAa,EAAA,GAAkC;IAC9Cb,CAAC,GAAGvB,IAAI,CAAC9B,qBAAqB;IAC9BgB,OAAO,CAACM,UAAU,GAAG,IAAIlC,OAAA,CAAAqE,MAAM,CAACnE,MAAA,CAAAoE,QAAQ,CAACF,CAAC,EAAE7C,CAAC,EAAE0C,CAAC,CAAC,EAAE,CAAC,CAAC;;AAEzD;AAEA,IAAMc,gBAAgB,GAAc,SAAAA,CAAC3D,QAAuB,EAAEsB,IAA8B;EAC1FA,IAAI,GAA4BvC,QAAQ,CAAC,EAAE,EAAEuC,IAAI,EAAEtC,WAAW,CAAC;EAC/D,IAAIqC,aAAa,GAAGtB,kBAAkB,CAACC,QAAQ,CAAC;EAEhD,IAAIQ,OAAO,GAAGsC,wBAAwB,CAAC9C,QAAQ,EAAEqB,aAAa,EAAEC,IAAI,CAAC;EACrEyB,sBAAsB,CAACvC,OAAO,EAAEa,aAAa,EAAEC,IAAI,CAAC;EAEpD,OAAOd,OAAO;AAChB,CAAC;AAEDoD,OAAA,CAAAC,OAAA,GAAeF,gBAAgB"},"metadata":{},"sourceType":"script","externalDependencies":[]}